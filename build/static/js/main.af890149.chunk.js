/*! For license information please see main.af890149.chunk.js.LICENSE.txt */
(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{159:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAQAAACJ4248AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmBBkPKx5Te2vdAAABR0lEQVRYw+2WMYrCQBiF/xmVdApWlimsrAQPYWfhYeIV1GipYK+NN7EQL2AlQXODgMV8W4zL6iJrjJoR1leFMMn73pvhZ0Q++vfCeB5mNIIoIjdFEWY4xHieYMbj/Ix/yYShgsNBpFZz038ca6FYdHcAtNaiJhN3ANOpgFIQBJAk+W1+klhPpQRTqYiIQKMBq9XrD95mA82miFhv2O+h07EQhQL0eq9p43iEfh9TKlnzdht2O/khWy6hWn1JGxepy2WYzcAYALlc+ew2rqc+XyFXv3tGG3+kvg3wUBu3U6cEyNBGytT3AaRq477UGQCuteH7dpgEAfj+PamzAwA2WbcLSn0PVNDavkuX+lwKINsc325F1mv73GqJ1OtZ/vIAwHOkXZp/AE4AcezOPo61sFg482c+P13LwzD3azmDAcbz3LX/0bvoC9vpWAkilehrAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA0LTI1VDE1OjQzOjMwKzAwOjAwMIByRgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wNC0yNVQxNTo0MzozMCswMDowMEHdyvoAAAAASUVORK5CYII="},207:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAQAAACJ4248AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmBBkPHBVUrhJhAAABx0lEQVRYw+1WQbLBQBDtiV8pFG6AA8hhOIRrqLLCRqUoK1acgRV3QDjCsFdZqBLz/mKo+Qkqkxj1N94mk5nuea+7U50mSggIxwFcF9jtIHwfwveB3Q5wXQjHSXpfAmLbBkYj4HrFSwQBMBxC2LZ5crFahckOB2A+h1gsgOMxdCSWS6MiZOR3cA7U64BlqXPLAhoNKeqOwcBQ9I4jU3sjF+Xya9tKRYkIAqBWMxC966qo6vV4+0ZDlaLfNyBgv1epV2l/bW9Z6pvwvDj72AuJKhV582bDmBBx1tJms5Fv1aoBAYWCfPq+ftpOJ7koFg0I+Cy+Ah4gW26vF24q74JzoNvV6o5At2uOOIpOR0OAycijOByifOxRAPDJEjPGQpz//hH+pHf1PMJkIsNqNokMDSN6tdxugWxW+WSzgOfpeEb5UpZgPGbsfL6/yfUtGwmRUkAQPO5dLu/l/ga9EqzXQC6nfPJ5WZbkJUgpAABUyoHJRNfLUAmICKXS03VC/HsfSC+A/Rk2WPzg8fKa6IZ+K75eidptIsaIWi2iTEaLMNKKv/+CJwIef5nmwLmGgNnsY/yYTuNthG3LqYhz/aYUB86BTufZSPYLcTGWaf5d55QAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDQtMjVUMTU6Mjg6MjErMDA6MDBKCEjYAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA0LTI1VDE1OjI4OjIxKzAwOjAwO1XwZAAAAABJRU5ErkJggg=="},227:function(e,t,a){e.exports=a(296)},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},278:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},288:function(e,t,a){},289:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAQAAACJ4248AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmBBkPGyPUVRE/AAACM0lEQVRYw72XPUszQRRG70xcNIJoISoESRM/ICCIQvxEK0GwsbTUQkgh1iJYiY2trajgj7ANBsEUgiAaixSKCmIaiSaR6ByLIL4vbpLdZJOnXJg5596Z2WFEHAQCAczODubiAl5fIZfDpFKY/X0YH3cyR9WBaBTe3ymboyPw++sA39rCcWIxTHOzd3CzsADGOBcA2NvzqHKtIZl0Bwf4/ITBQTcsbf85EhEZGHCv7vOJLC15IFDDzmZy0gOBrq6qBVR3d+0CvL1VLSCZjAcduL2tXqCWsT8NoKMDcjn3pwBgcbFmARERzO6ue/jlJWhdO11EwO+HRMI5PJuFkRFP4L8SPT1wfl4Znk7D7Kyn8F+JlhbY2MC8vPwF5/NweIjp7a12fvUHaNrbRc3PF/+Ez8/CwYHSHx/g8wmjo6JCIRHLEp6eRM7OlC4eWQgERFZWRAoFkURCJBZT6uvLZbXr68X7/p+YmxuYmSk5xlgWrK1BJvN/d5JJmJhwAd/eLr/O8TgsL0M4jAkGYWwMNjfh/r70mHweMz1dGW6mptxfvU5zdwetrRWqPzmpD/wn0WiZ6kOh+lX/k6urUnwtam5ORCmpa8LhUkdVi7i7v6uOsudoob+/IQLS12cvoILBxgjYc7RIW1tjBOw5WqSpqTECllVCIJ1uCB97jhaJxxvTgdNTezETiRQfFHWMSaXKPttgdRUKhfrQHx8xQ0OVl4jhYTg+hoeH2mWyWbi+Lj7pOzvLcb8BMgPcOpLS1LIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDQtMjVUMTU6Mjc6MzUrMDA6MDCD5jfYAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA0LTI1VDE1OjI3OjM1KzAwOjAw8ruPZAAAAABJRU5ErkJggg=="},290:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAQAAACJ4248AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmBBkPLDDA7PDVAAABHUlEQVRYw+2XPQrCQBCFZ4LEylwgjXgFewUtEzyPXUAbz2AhXiFqulzBK6yC9oLWzrMQsTHZzSaSZh9stfPzzWyzj6hEkG4XWC6B8xkQgbFEgNMJWCwgvk82ApiBLDNvWqTDAWC2AJjN6jf/LCSOi/p4xQiTidXqfomn0+oA6PUaA0AQFF119NnzOUEpu8kHA6LVqizEACDP2TserQbHcKiL8UwK/VMOwAE4AAfgAByAA2gdwOBDEobA7WZXPgwbAEjTf26g5hNcr0SXS0sA2y1Rv/8+63UrAMzPJ7MIYbNpHoAfj/LU0egbOx6XhvL9XpkMEsd6A5plwG6nN65RVB0AzECa1jeG+72VOX1vwfeBJAGUqm7PlQKSRGfPX93v1r4Nwf+XAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIyLTA0LTI1VDE1OjQ0OjQ4KzAwOjAw63YuQQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMi0wNC0yNVQxNTo0NDo0OCswMDowMJorlv0AAAAASUVORK5CYII="},294:function(e,t,a){},296:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),o=a(384),c=a(76),i=a(393),s=a(390),m=a(67),u=a(68),d=a(69),p=a(70),g=(a(232),a(233),a(234),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={},n}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"jumbotron text-center",style:{top:40}},l.a.createElement("hr",null),l.a.createElement("h1",{className:"display-3 brand--color"},"Welcome to Nakshraj!"),l.a.createElement("h2",{className:"display-3 brand--color"},"We appreciate you contacting us."),l.a.createElement("p",{className:"lead"}," Our team will get back to you soon!"),l.a.createElement("hr",null),l.a.createElement("p",{className:"lead"},l.a.createElement("a",{className:"btn-mz btn--radius btn--brand-color btn--filled btn--shadow mr-t-3",href:"/",role:"button"},"Go Back"))))}}]),a}(l.a.Component)),f=a(14),E=a(154),b=a.n(E);b.a.initializeApp({apiKey:"AIzaSyBTtspqdloFTvFX3szMQvMbjDyTAYEw-MM",authDomain:"nakshraj-traders.firebaseapp.com",projectId:"nakshraj-traders",storageBucket:"nakshraj-traders.appspot.com",messagingSenderId:"821724665953",appId:"1:821724665953:web:6b27b100ab79002d08f220"});var h=b.a,O=a(3),v=a(19),A=a(5),j=a(345),y=a(359),x=a(360),w=a(385),N=a(388),C=a(350),S=a(209),D=a(362),k=a(163),I=a(191),P=a.n(I),R=a(194),T=a.n(R),B=a(193),L=a.n(B),F=a(361),z=a(92),M=a.n(z),U=a(17),W=a(4),Q=a(347),Y=a(349),G=a(351),_=a(354),J=a(394),V=a(352),H=a(353),q=(a(20),a(26)),K=a.n(q),Z=a(103),X=a.n(Z),$=a(79),ee=a.n($),te=Object(j.a)((function(e){return{dialog:{height:"auto !important",width:"auto !important"},dialogTitle:{textAlign:"center"},dialogContent:{textAlign:"center"},dialogAction:{justifyContent:"center"},titleIcon:{backgroundColor:e.palette.success.dark,color:e.palette.secondary.main,"&:hover":{color:e.palette.success.dark,cursor:"default"},"& .MuiSvgIcon-root":{fontSize:"8rem"}}}}));function ae(e){Object(f.a)().t;var t=e.alertDialog,a=e.setAlertDialog,n=te();return l.a.createElement(Q.a,{open:t.isOpen,classes:{paper:n.dialog}},l.a.createElement(Y.a,{className:n.dialogTitle},l.a.createElement(C.a,{disableRipple:!0,className:n.titleIcon},l.a.createElement(ee.a,{color:"primary"}))),l.a.createElement(G.a,{className:n.dialogContent},l.a.createElement(k.a,{variant:"subtitle1"},t.title),l.a.createElement(k.a,{variant:"subtitle2"},t.subTitle)),l.a.createElement(V.a,{className:n.dialogAction},l.a.createElement(H.a,{text:"Okay",color:"primary",variant:"contained",onClick:function(){return a()}},"Okay")))}a(66);var ne=Object(j.a)((function(e){return{dialog:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)},dialogTitle:{textAlign:"center"},dialogContent:{textAlign:"center"},dialogAction:{justifyContent:"center"},titleIcon:{backgroundColor:e.palette.primary.light,color:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.primary.light,cursor:"default"},"& .MuiSvgIcon-root":{fontSize:"8rem"}}}}));function le(e){var t=e.open,a=e.onClose,r=(e.currentUserId,e.languageChanged,ne(),Object(n.useState)({isOpen:!1,title:"",subTitle:""})),o=Object(O.a)(r,2),c=o[0],i=o[1],s=(Object(f.a)().t,Object(n.useState)({newPassword:"",confirmPassword:""})),m=Object(O.a)(s,2),u=m[0],d=m[1];Object(n.useEffect)((function(){}),[]);var p=function(e){d(Object(W.a)(Object(W.a)({},u),{},Object(U.a)({},e.target.name,e.target.value)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Q.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(Y.a,{id:"form-dialog-title",className:"txtleft"},"Change Password"),l.a.createElement(G.a,{dividers:!0},l.a.createElement(_.a,{container:!0,spacing:3},l.a.createElement(_.a,{item:!0,md:6,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"New Password",name:"newPassword",onChange:p,required:!0,value:u.newPassword,type:"password",variant:"outlined"})),l.a.createElement(_.a,{item:!0,md:6,xs:12},l.a.createElement(J.a,{label:"Confrim Password",name:"confirmPassword",onChange:p,required:!0,value:u.confirmPassword,type:"password",fullWidth:!0,variant:"outlined"})))),l.a.createElement(V.a,null,l.a.createElement(H.a,{color:"primary",onClick:a,variant:"contained",style:{width:"100px",margin:"5px"}},l.a.createElement(X.a,{className:"btnRightDetails"}),"Cancle"),l.a.createElement(H.a,{color:"primary",onClick:function(){""===u.newPassword?i({isOpen:!0,title:"Please Enter New Password"}):""===u.confirmPassword?i({isOpen:!0,title:"Please Enter Confrim Password"}):u.newPassword===u.confirmPassword?(e.onClose(),window.location.href="/"):i({isOpen:!0,title:"Not Match"})},variant:"contained",style:{width:"100px",margin:"5px"}},l.a.createElement(K.a,{className:"btnRightDetails"}),"Add"))),l.a.createElement(ae,{alertDialog:c,setAlertDialog:function(){i(Object(W.a)(Object(W.a)({},c),{},{isOpen:!1,title:"",subTitle:""}))}}))}var re=["className","onMobileNavOpen","sideOptionSelected"],oe=Object(j.a)((function(){return{root:{},avatar:{width:60,height:60}}})),ce=function(e){var t=e.className,a=e.onMobileNavOpen,r=(e.sideOptionSelected,Object(v.a)(e,re)),o=(Object(f.a)().t,oe()),c=Object(n.useState)([]),i=(Object(O.a)(c,1)[0],l.a.useState(null)),s=Object(O.a)(i,2),m=s[0],u=s[1],d=l.a.useState(!1),p=Object(O.a)(d,2),g=p[0],E=p[1],b=l.a.useState(null),j=Object(O.a)(b,2),I=(j[0],j[1],l.a.useState(!1)),R=Object(O.a)(I,2),B=(R[0],R[1],l.a.useState(!1)),z=Object(O.a)(B,2),U=z[0],W=z[1],Q=l.a.useState(!1),Y=Object(O.a)(Q,2),G=Y[0],_=Y[1];localStorage.getItem("userrole");Object(n.useEffect)((function(){}),[]);var J=function(e){u(e.currentTarget),E(!0)},V=function(){u(null),E(!1),W(!1),_(!1)};Object(f.a)().i18n;return l.a.createElement("div",null,!U&&!G&&l.a.createElement(y.a,Object.assign({className:Object(A.a)(o.root,t),elevation:0},r),l.a.createElement(x.a,null,l.a.createElement(w.a,{flexGrow:1}),l.a.createElement("div",{className:"centertitleadmin"},l.a.createElement(N.a,{lgUp:!0},l.a.createElement(C.a,{color:"inherit",onClick:a},l.a.createElement(P.a,null))),l.a.createElement("img",{src:M.a,style:{width:"50px"}})),l.a.createElement("div",null,l.a.createElement(F.a,{title:"click here to see your details"},l.a.createElement(C.a,{color:"inherit",onClick:J},l.a.createElement(L.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:J},"Open Menu"))),l.a.createElement(S.a,{id:"simple-menu",anchorEl:m,keepMounted:!0,open:g,onClose:V,style:{top:"60px"}},l.a.createElement(F.a,{title:"Click Here To Logout"},l.a.createElement(D.a,{onClick:function(){return console.warn("Logged Out"),void h.auth().signOut().then((function(e){console.log("Success....Sign-out successful"),localStorage.clear(),window.location.href="/"})).catch((function(e){console.log("Failed to do")}))}},l.a.createElement(k.a,{className:"txtright"},l.a.createElement(C.a,{color:"inherit"},l.a.createElement(T.a,null)),"Logout"))))))),U&&l.a.createElement(le,{open:U,onClose:function(){return V()}}))},ie=a(358),se=a(303),me=a(363),ue=a(195),de=a.n(ue),pe=a(196),ge=a.n(pe),fe=a(156),Ee=a.n(fe),be=a(155),he=a.n(be),Oe=Object(j.a)((function(e){return{mobileDrawer:{width:256},desktopDrawer:{width:256,top:64,height:"calc(100% - 64px)"},avatar:{cursor:"pointer",width:64,height:64},item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:"#000",fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginLeft:e.spacing(1)},title:{marginLeft:"auto"},iconEng:{marginRight:e.spacing(1)},titleEng:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}}}})),ve=function(e){var t=e.className,a=e.onMobileClose,r=e.openMobile,o=e.sideOptionSelected,c=(e.callBackLanguageSelected,Oe()),i=Object(n.useState)("USER"),s=Object(O.a)(i,2),m=(s[0],s[1]),u=Object(n.useState)(!1),d=Object(O.a)(u,2);d[0],d[1];Object(n.useEffect)((function(){r&&a&&a();var e=localStorage.getItem("userRole");m(e)}),[]);var p=l.a.createElement(w.a,{height:"100%",display:"flex",flexDirection:"column"},l.a.createElement(w.a,{p:2},l.a.createElement(ie.a,{className:"blackcolor"},l.a.createElement(se.a,{className:Object(A.a)(c.item,t),disableGutters:!0},l.a.createElement(H.a,{activeclassname:c.active,className:c.button,onClick:function(){return g("Dashboard")}},l.a.createElement(de.a,{className:c.iconEng,size:"20"}),l.a.createElement("span",{className:c.titleEng},"Dashboard"))),l.a.createElement(se.a,{className:Object(A.a)(c.item,t),disableGutters:!0},l.a.createElement(H.a,{activeclassname:c.active,className:c.button,onClick:function(){return g("Order")}},l.a.createElement(he.a,{className:c.iconEng,size:"20"}),l.a.createElement("span",{className:c.titleEng},"Order"))),l.a.createElement(se.a,{className:Object(A.a)(c.item,t),disableGutters:!0},l.a.createElement(H.a,{activeclassname:c.active,className:c.button,onClick:function(){return g("invoice")}},l.a.createElement(he.a,{className:c.iconEng,size:"20"}),l.a.createElement("span",{className:c.titleEng},"Invoice List"))),l.a.createElement(se.a,{className:Object(A.a)(c.item,t),disableGutters:!0},l.a.createElement(H.a,{activeclassname:c.active,className:c.button,onClick:function(){return g("Product List")}},l.a.createElement(Ee.a,{className:c.iconEng,size:"20"}),l.a.createElement("span",{className:c.titleEng},"Product List"))),l.a.createElement(se.a,{className:Object(A.a)(c.item,t),disableGutters:!0},l.a.createElement(H.a,{activeclassname:c.active,className:c.button,onClick:function(){return g("User List")}},l.a.createElement(ge.a,{className:c.iconEng,size:"20"}),l.a.createElement("span",{className:c.titleEng},"User List"))),l.a.createElement(se.a,{className:Object(A.a)(c.item,t),disableGutters:!0},l.a.createElement(H.a,{activeclassname:c.active,className:c.button,onClick:function(){return g("analytics")}},l.a.createElement(Ee.a,{className:c.iconEng,size:"20"}),l.a.createElement("span",{className:c.titleEng},"analytics"))))),l.a.createElement(w.a,{flexGrow:1}));function g(e){"Edit Stall"===e?window.location.href="/stall/"+localStorage.getItem("projectId"):"Preview Stall"===e?window.open("/view/"+localStorage.getItem("projectId"),"_blank"):o(e),a()}return l.a.createElement("div",null,l.a.createElement(N.a,{lgUp:!0},l.a.createElement(me.a,{anchor:"left",classes:{paper:c.mobileDrawer},onClose:a,open:r,variant:"temporary"},p)),l.a.createElement(N.a,{mdDown:!0},l.a.createElement(me.a,{anchor:"left",classes:{paper:c.desktopDrawer},open:!0,variant:"persistent"},p)))};ve.defaultProps={onMobileClose:function(){},openMobile:!1};var Ae=ve,je=(a(278),Object(n.createContext)()),ye=(l.a.Component,je.Consumer,a(8)),xe=a(366),we=a(144),Ne=a(197),Ce=a(7),Se=a.n(Ce),De=["children","title"],ke=Object(n.forwardRef)((function(e,t){var a=e.children,n=e.title,r=void 0===n?"":n,o=Object(v.a)(e,De);return l.a.createElement("div",Object.assign({ref:t},o),l.a.createElement(Ne.a,null,l.a.createElement("title",null,r)),a)}));ke.propTypes={children:Se.a.node.isRequired,title:Se.a.string};var Ie=ke,Pe=(a(295),a(283),a(284),a(28)),Re=a.n(Pe),Te=a(364),Be=a(365),Le=(Object(ye.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(Te.a),Object(ye.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Be.a),Object(ye.a)((function(e){return{tooltip:{boxShadow:e.shadows[1],fontSize:13}}}))(F.a)),Fe=[],ze=[],Me=[],Ue=[],We=[],Qe=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).getSystemUser=function(){h.firestore().collection("users-list").get().then((function(e){Fe=[],e.forEach((function(e){var t=e.data();t.loginFlag&&Fe.push(t)})),n.setState({totalSystemUser:Fe.length})}))},n.getSystemProducts=function(){h.firestore().collection("product-list").get().then((function(e){ze=[],e.forEach((function(e){var t=e.data();ze.push(t)})),n.setState({totalSystemProduct:ze.length})}))},n.getSystemOrders=function(){h.firestore().collection("order-list").get().then((function(e){Me=[],e.forEach((function(e){var t=e.data();Me.push(t)})),n.setState({totalSystemOrder:Me.length})}))},n.getInvoiceList=function(){h.firestore().collection("invoice-list").get().then((function(e){Ue=[],e.forEach((function(e){var t=e.data();Ue.push(t)})),We=[],Ue.map((function(e,t){e.totalBillAmmount!==e.restBillAmmount&&We.push({clientName:e.clientName,clientContact:e.clientContact,invoiceNo:e.invoiceNo,order_date:e.order_date,totalBillAmmount:e.totalBillAmmount,restBillAmmount:e.restBillAmmount,paidBillAmmount:e.totalBillAmmount-e.restBillAmmount})}));var t=We.sort((function(e,t){return t.order_date-e.order_date}));console.log("finalObjData :: ",t);for(var a=0,l=0;l<t.length;l++)a+=parseFloat(t[l].restBillAmmount);n.setState({totalSystemRestAmmount:a})}))},n.state={totalSystemUser:0,totalSystemProduct:0,totalSystemOrder:0,totalSystemRestAmmount:0,invoiceDetails:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.getSystemUser(),e.getSystemProducts(),e.getSystemOrders(),e.getInvoiceList()}),1e3)}},{key:"render",value:function(){return l.a.createElement(Ie,{title:"Dashboard|Nakshraj"},l.a.createElement(xe.a,{maxWidth:!1},l.a.createElement(w.a,{display:"flex"},l.a.createElement(w.a,{flexGrow:1},l.a.createElement(k.a,{variant:"h4",className:"txtleft",style:{color:"black"}},"Dashboard"))),l.a.createElement("hr",null),l.a.createElement("div",{className:"overflowdashboard"},l.a.createElement(_.a,{container:!0,className:"basicpadding",style:{display:"flex",justifyContent:"space-between"}},l.a.createElement(_.a,{item:!0,md:3,xs:6},l.a.createElement(Le,{title:"Total Users"},l.a.createElement(we.a,{className:"basicpadding",elevation:12},l.a.createElement(k.a,{variant:"body2",className:"txtleft"},"Users"),l.a.createElement(k.a,{variant:"h3",className:"textcenter"},Math.round(this.state.totalSystemUser)),l.a.createElement("div",{className:"textend",style:{height:"20.2px"},title:"Users"})))),l.a.createElement(_.a,{item:!0,md:3,xs:6},l.a.createElement(Le,{title:"Total Products"},l.a.createElement(we.a,{className:"basicpadding",elevation:12},l.a.createElement(k.a,{variant:"body2",className:"txtleft"},"Products"),l.a.createElement(k.a,{variant:"h3",className:"textcenter"},Math.round(this.state.totalSystemProduct)),l.a.createElement("div",{className:"textend",style:{height:"20.2px"},title:"Products"})))),l.a.createElement(_.a,{item:!0,md:3,xs:6},l.a.createElement(Le,{title:"Total Customer and Contractor"},l.a.createElement(we.a,{className:"basicpadding",elevation:12},l.a.createElement(k.a,{variant:"body2",className:"txtleft"},"Customer and Contractor"),l.a.createElement(k.a,{variant:"h3",className:"textcenter"},Math.round(this.state.totalSystemOrder)),l.a.createElement("div",{className:"textend",style:{height:"20.2px"},title:"Orders"})))),l.a.createElement(_.a,{item:!0,md:3,xs:6},l.a.createElement(Le,{title:"Total Rest Ammount"},l.a.createElement(we.a,{className:"basicpadding",elevation:12},l.a.createElement(k.a,{variant:"body2",className:"txtleft"},"Total Rest Ammount"),l.a.createElement(k.a,{variant:"h3",className:"textcenter"},Math.round(this.state.totalSystemRestAmmount)),l.a.createElement("div",{className:"textend",style:{height:"20.2px"},title:"Orders"}))))))))}}]),a}(n.Component),Ye=Object(f.b)()(Qe),Ge=a(31),_e=a.n(Ge),Je=a(30),Ve=a.n(Je),He=a(380),qe=a(51),Ke=a.n(qe),Ze=a(60),Xe=a.n(Ze),$e=a(57),et=a.n($e),tt=a(377),at=a(48),nt=a.n(at),lt=a(357),rt=a(396),ot=a(387),ct=Object(j.a)((function(e){return{dialog:{height:"auto !important",width:"auto !important"},dialogTitle:{textAlign:"center"},dialogContent:{textAlign:"center"},dialogAction:{justifyContent:"center"},titleIcon:{backgroundColor:e.palette.success.dark,color:e.palette.secondary.main,"&:hover":{color:e.palette.success.dark,cursor:"default"},"& .MuiSvgIcon-root":{fontSize:"8rem"}}}}));function it(e){var t=e.alertDialog,a=e.setAlertDialog,n=ct();return l.a.createElement(Q.a,{open:t.isOpen,classes:{paper:n.dialog}},l.a.createElement(Y.a,{className:n.dialogTitle},l.a.createElement(C.a,{disableRipple:!0,className:n.titleIcon},l.a.createElement(ee.a,{color:"primary"}))),l.a.createElement(G.a,{className:n.dialogContent},l.a.createElement(k.a,{variant:"subtitle1"},t.title),l.a.createElement(k.a,{variant:"subtitle2"},t.subTitle)),l.a.createElement(V.a,{className:n.dialogAction},l.a.createElement(H.a,{text:"Okay",color:"primary",variant:"contained",onClick:function(){return a()}},"OK")))}var st=a(370),mt=a(164),ut=a(386),dt=a(371),pt=a(367),gt=Object(j.a)((function(e){return{dialog:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)},dialogTitle:{textAlign:"center"},dialogContent:{textAlign:"center"},dialogAction:{justifyContent:"center"},titleIcon:{backgroundColor:e.palette.success.dark,color:e.palette.secondary.main,"&:hover":{color:e.palette.success.dark,cursor:"default"},"& .MuiSvgIcon-root":{fontSize:"8rem"}}}}));function ft(e){Object(f.a)().t;var t=e.confirmDialog,a=e.setConfirmDialog,n=gt();return l.a.createElement(Q.a,{open:t.isOpen,classes:{paper:n.dialog}},l.a.createElement(Y.a,{className:n.dialogTitle},l.a.createElement(C.a,{disableRipple:!0,className:n.titleIcon},l.a.createElement(ee.a,{color:"primary"}))),l.a.createElement(G.a,{className:n.dialogContent},l.a.createElement(k.a,{variant:"h6"},t.title),l.a.createElement(k.a,{variant:"subtitle2"},t.subTitle)),l.a.createElement(V.a,{className:n.dialogAction},l.a.createElement(H.a,{text:"No",color:"primary",variant:"contained",onClick:function(){return a(Object(W.a)(Object(W.a)({},t),{},{isOpen:!1}))}},"No"),l.a.createElement(H.a,{text:"Yes",color:"secondary",variant:"contained",onClick:t.onConfirm},"Yes")))}var Et=a(143),bt=a(37),ht=a.n(bt),Ot=a(201),vt=a.n(Ot),At=a(208),jt=a(369),yt=a(368),xt=["currentUserId","userData","className","redirectBack","resetIsUpdateUser"],wt=Object(j.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%"},formControl:{width:"100%",variant:"outlined"},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},tab:{flexGrow:1},avatarimage:{display:"flex",justifyContent:"center",margin:"20px",padding:"10px"},large:{width:e.spacing(7),height:e.spacing(7)},green:{color:"#fff",backgroundColor:Et.a[500],margin:"10px",width:e.spacing(7),height:e.spacing(7)},txtHiddenclass:{overflowY:"hidden"}}})),Nt=Object(At.a)({palette:{secondary:{main:"#ffffff"}}}),Ct=h.firestore(),St=function(e){var t=e.currentUserId,a=e.userData,r=e.className,o=(e.redirectBack,e.resetIsUpdateUser),c=Object(v.a)(e,xt),i=(Object(f.a)().t,l.a.useState("1")),s=Object(O.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(O.a)(d,2),g=p[0],E=p[1],b=Object(n.useState)(!1),j=Object(O.a)(b,2),x=j[0],N=j[1],C=Object(n.useState)({isOpen:!1,title:"",subTitle:""}),S=Object(O.a)(C,2),I=S[0],P=S[1],R=Object(n.useState)({isOpen:!1,title:"",subTitle:""}),T=Object(O.a)(R,2),B=T[0],L=T[1],F=wt(),z=Object(n.useState)(""),M=Object(O.a)(z,2),Q=M[0],Y=M[1],G=Object(n.useState)(!1),V=Object(O.a)(G,2),q=V[0],Z=V[1],X=Object(n.useState)({department:"",numberIqama:"",caseType:"",password:"",altContactNo:"",contactNo:"",role:"",subscriptionLevel:null,caseDescription:"",incidentDateTime:"",incidentAddress:"",incidentState:"",incidentCity:"",incidentZipcode:0,caseOpenDateTime:"",caseStatus:"",investigatingOfficer:"",officers:[],suspects:[],victims:[],evidenceCollection:[],closeNote:"",caseCloseDateTime:"",userImage:"",station:[],myStation:[]}),$=Object(O.a)(X,2),ee=$[0],te=$[1];var ae=function(e){te(Object(W.a)(Object(W.a)({},ee),{},Object(U.a)({},e.target.name,e.target.value)))},ne=function(e){};function le(){try{ie(!1)}catch(e){errorLogs("onBacktoHome",e)}}var re=Object(n.useState)(!0),oe=Object(O.a)(re,2),ce=oe[0],ie=oe[1];Object(n.useEffect)((function(){t&&(console.log("USER :: ",a),te(Object(W.a)(Object(W.a)({},ee),{},{email:a.email,role:a.role})))}),[]),Object(n.useEffect)((function(){N(!1)}),[o]);var se=function(){h.auth().createUserWithEmailAndPassword(ee.email,ee.password).then((function(e){var t=e.user;console.log("user Added :: ",t),Ct.collection("users-list").add({email:ee.email,password:ee.password,role:ee.role,userId:t.uid,loginFlag:!0}).then((function(e){te(Object(W.a)(Object(W.a)({},ee),{},{email:"",password:"",role:"Admin",userStatus:"true"})),E(!1),N(!0),le()})).catch((function(e){alert("Error is ",e)}))})).catch((function(e){E(!1);var t=e.message;alert(t)}))},me=function(){var e=Ct.collection("users-list");(e=e.where("userId","==",t)).get().then((function(t){t.forEach((function(t){console.log("USER DOC ID ::  ",t.id),e.firestore.collection("users-list").doc(t.id).update({email:ee.email,role:ee.role,loginFlag:!0}).then((function(){N(!0),te(Object(W.a)(Object(W.a)({},ee),{},{email:"",role:"Admin",userStatus:"true"})),E(!1),le()}))}))}))};return l.a.createElement(Ie,{className:F.root,title:"Add New User | MOI"},ce&&l.a.createElement(xe.a,{maxWidth:!1},l.a.createElement("form",Object.assign({autoComplete:"off",noValidate:!0,className:Object(A.a)(F.root,r)},c),l.a.createElement(w.a,{display:"flex",style:{alignItems:"center"}},l.a.createElement(ht.a,{color:"primary",variant:"contained",onClick:function(){ie(!1)},style:{margin:"16px",cursor:"pointer"}}),l.a.createElement(w.a,{flexGrow:1},l.a.createElement(k.a,{variant:"h4",className:"txtleft"},"Add User Form")),g?l.a.createElement(pt.a,{color:"secondary",style:{margin:"5px"},size:20}):"",!t&&l.a.createElement(H.a,{color:"primary",variant:"contained",disabled:g,onClick:function(){E(!0),""===ee.email?(L(Object(W.a)(Object(W.a)({},B),{},{isOpen:!0,title:"Add email"})),E(!1)):""===ee.role?(L(Object(W.a)(Object(W.a)({},B),{},{isOpen:!0,title:"Add role"})),E(!1)):se()}},l.a.createElement(K.a,{className:"btnRightDetails"}),"Add"),t&&l.a.createElement(H.a,{color:"primary",variant:"contained",disabled:g,onClick:function(){E(!0),""===ee.email?(L(Object(W.a)(Object(W.a)({},B),{},{isOpen:!0,title:"Add email"})),E(!1)):""===ee.role?(L(Object(W.a)(Object(W.a)({},B),{},{isOpen:!0,title:"Add role"})),E(!1)):me()}},l.a.createElement(vt.a,{className:"btnRightDetails"}),"Update")),l.a.createElement("hr",null),l.a.createElement("div",{className:"overflowform"},l.a.createElement(yt.a,null,l.a.createElement("div",{className:F.tab},l.a.createElement(mt.a,{value:m},l.a.createElement(y.a,{position:"static"},l.a.createElement(jt.a,{theme:Nt},l.a.createElement(ut.a,{onChange:function(e,t){u(t)},"aria-label":"profiletab"},l.a.createElement(st.a,{label:"Details",value:"1"})))),l.a.createElement(dt.a,{value:"1"},l.a.createElement(_.a,{container:!0,spacing:3},l.a.createElement(_.a,{item:!0,md:6,xs:12},l.a.createElement(J.a,{error:q,helperText:Q,onBlur:function(){""===ee.email?Y(null):!function(e){if(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e))return!0;return!1}(ee.email)?(Z(!0),Y("sorry this is not valid email")):(Y(null),Z(!1))},fullWidth:!0,label:"Email",name:"email",onChange:ae,type:"email",required:!0,value:ee.email,variant:"outlined",disabled:!!t})),l.a.createElement(_.a,{item:!0,md:6,xs:12},l.a.createElement(lt.a,{variant:"outlined",fullWidth:!0,className:F.formControl},l.a.createElement(rt.a,{id:"demo-simple-select-outlined-label"},"User Role"),l.a.createElement(ot.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:ee.role,name:"role",onChange:ae,onBlur:ne,label:"User Role"},l.a.createElement(D.a,{value:"Admin"},l.a.createElement(k.a,{className:"txtleft"},"Admin")),l.a.createElement(D.a,{value:"USER"},l.a.createElement(k.a,{className:"txtleft"},"User"))))),!t&&l.a.createElement(_.a,{item:!0,md:6,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"Password",name:"password",onChange:ae,onBlur:ne,required:!0,value:ee.password,variant:"outlined"})),l.a.createElement("br",null)))))))),l.a.createElement(it,{alertDialog:B,setAlertDialog:function(){L(Object(W.a)(Object(W.a)({},B),{},{isOpen:!1,title:"",subTitle:""}))}}),l.a.createElement(ft,{confirmDialog:I,setConfirmDialog:P})),!ce&&l.a.createElement(Wt,{updateList:x}))},Dt=a(23),kt=a(372),It=a(373),Pt=a(214),Rt=a(375),Tt=a(376),Bt=a(378),Lt=a(379),Ft=a(397),zt=a(374),Mt=["className","sideOptionSelected","updateList"],Ut=Object(j.a)((function(e){return Object(U.a)({root:{backgroundColor:e.palette.background.dark,minHeight:"100%"},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)},exporesultroot:{},avatar:{marginRight:e.spacing(2),borderRadius:"10px"},pagination:{flexShrink:0},active:{color:"#228539 !important"},inactive:{color:"#dc3545 !important"},table:{minWidth:300}},"avatar",{marginRight:e.spacing(2),borderRadius:"10px"})})),Wt=function(e){var t=e.className,a=(e.sideOptionSelected,e.updateList),r=Object(v.a)(e,Mt),o=Object(f.a)().t,c=Object(n.useState)([]),i=Object(O.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)([]),d=Object(O.a)(u,2),p=d[0],g=d[1],E=Object(n.useState)(""),b=Object(O.a)(E,2),j=b[0],y=b[1],x=Object(n.useState)(0),N=Object(O.a)(x,2),S=N[0],D=(N[1],Object(n.useState)(!0)),I=Object(O.a)(D,2),P=I[0],R=I[1],T=Object(n.useState)(!1),B=Object(O.a)(T,2),L=B[0],z=B[1],M=Object(n.useState)(2),U=Object(O.a)(M,2),Q=(U[0],U[1],Object(n.useState)(0)),Y=Object(O.a)(Q,2),G=Y[0],_=Y[1];Object(n.useEffect)((function(){R(!0),z(!0),V()}),[a]);var V=function(){h.firestore().collection("users-list").get().then((function(e){var t=[];e.forEach((function(e){var a=e.data();a.loginFlag&&t.push(a)})),console.log("DOC Data again :: ",t),m(t),g(t),R(!1),t.length<=0&&z(!0)}))},q=Ut(),K=Object(n.useState)(!1),Z=Object(O.a)(K,2),X=Z[0],$=Z[1],ee=Object(ye.a)((function(e){return{tooltip:{boxShadow:e.shadows[1],fontSize:13}}}))(F.a),te=Object(n.useState)(""),ae=Object(O.a)(te,2),ne=ae[0],le=ae[1],re=Object(n.useState)(""),oe=Object(O.a)(re,2),ce=oe[0],ie=oe[1],se=Object(n.useState)({isOpen:!1,title:"",subTitle:""}),me=Object(O.a)(se,2),ue=me[0],de=me[1],pe=Object(n.useState)({isOpen:!1,title:"",subTitle:""}),ge=Object(O.a)(pe,2),fe=ge[0],Ee=ge[1],be=function(e,t){var a=h.firestore(),n=a.collection("users-list");(n=n.where("userId","==",e)).get().then((function(e){e.forEach((function(e){console.log("USER DOC ID ::  ",e.id),a.collection("users-list").doc(e.id).update({loginFlag:t}).then((function(){V()}))}))}))};return l.a.createElement(Ie,{className:q.root,title:o("user-list_userlistmoi")},!X&&l.a.createElement(xe.a,{maxWidth:!1},l.a.createElement("div",Object.assign({className:Object(A.a)(q.root,t)},r),l.a.createElement(w.a,{display:"flex",className:"sideBtn"},l.a.createElement(w.a,{flexGrow:1},l.a.createElement(k.a,{variant:"h4",className:"txtleft"},"User List")),l.a.createElement(w.a,null,l.a.createElement(H.a,{color:"primary",variant:"contained",onClick:function(){$(!0)}},l.a.createElement(et.a,{className:"btnRightDetails"}),l.a.createElement("span",null,"Add New User")))),l.a.createElement("hr",null),l.a.createElement(w.a,{mt:3},l.a.createElement(kt.a,null,l.a.createElement(yt.a,null,l.a.createElement(w.a,{maxWidth:"100%"},l.a.createElement(J.a,{fullWidth:!0,InputProps:{startAdornment:l.a.createElement(It.a,{position:"start"},l.a.createElement(Pt.a,{fontSize:"small",color:"primary"},l.a.createElement(zt.a,null)))},placeholder:"Search for users",value:j,onChange:function(e){y(e.target.value);var t,a,n=(t=s,a=e.target.value,t.filter((function(e){return e.email.toLowerCase().includes(a.toLowerCase())||e.role.toLowerCase().includes(a.toLowerCase())})));n.length>0?(z(!0),g(n)):(z(!1),g(n))},variant:"outlined"})))))),l.a.createElement(w.a,{mt:3,mb:3},l.a.createElement(kt.a,{className:q.exporesultroot},l.a.createElement(w.a,{md:12},l.a.createElement("div",{className:"overflowtable"},P&&l.a.createElement(Rt.a,{className:q.table},l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null)))),l.a.createElement(Bt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))))),!L&&!P&&l.a.createElement("img",{src:nt.a}),!P&&L&&l.a.createElement(Rt.a,{className:q.table},l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,{className:"txtleft"},"Email"),l.a.createElement(Te.a,{className:"txtleft"},"Role"),l.a.createElement(Te.a,null),l.a.createElement(Te.a,null))),l.a.createElement(Bt.a,null,p.map((function(e){return l.a.createElement(Be.a,{hover:!0},l.a.createElement(Te.a,{align:"left",className:q.active},e.email),l.a.createElement(Te.a,{align:"left",className:q.active},e.role),l.a.createElement(Te.a,{align:"left",component:"th",scope:"row"},l.a.createElement(ee,{className:q.tooltip,TransitionComponent:Lt.a,title:"Edit User"},l.a.createElement(Ke.a,{onClick:function(){return t=e.userId,a=e,le(t),ie(a),void $(!0);var t,a},variant:"contained",size:"sm",style:{color:"#20382b"}}))),l.a.createElement(Te.a,{align:"left"},l.a.createElement(ee,{TransitionComponent:Lt.a,title:"Delete User"},l.a.createElement(Xe.a,{color:"primary",variant:"contained",onClick:function(){return de({isOpen:!0,title:"are you sure you want to delete this user ?",subTitle:"once deleted you cant undo this action",onConfirm:function(){var t;t=e.userId,de(Object(W.a)(Object(W.a)({},ue),{},{isOpen:!1})),be(t,!1)}})}}))))}))),l.a.createElement(He.a,null,l.a.createElement(Be.a,null,l.a.createElement(Ft.a,{rowsPerPageOptions:[10],count:p.length,rowsPerPage:20,page:S,ActionsComponent:function(e){var t=Ut(),a=Object(Dt.a)(),n=function(e){R(!1),z(!0)};return l.a.createElement("div",{className:t.pagination},l.a.createElement(C.a,{onClick:function(){y(""),_(G-1),n()},disabled:0===G,"aria-label":o("user-list_previouspage")},"rtl"===a.direction?l.a.createElement(Ve.a,null):l.a.createElement(_e.a,null)),l.a.createElement(C.a,{onClick:function(){y(""),_(G+1),n()},"aria-label":o("user-list_nextpage")},"rtl"===a.direction?l.a.createElement(_e.a,null):l.a.createElement(Ve.a,null)))},style:{overflow:"visible"}}))))))))),X&&!ne?l.a.createElement(St,{resetIsUpdateUser:!1}):"",ne&&X?l.a.createElement(St,{currentUserId:ne,userData:ce}):"",l.a.createElement(it,{alertDialog:fe,setAlertDialog:function(){Ee(Object(W.a)(Object(W.a)({},fe),{},{isOpen:!1,title:"",subTitle:""}))}}),l.a.createElement(ft,{confirmDialog:ue,setConfirmDialog:de}))},Qt=a(40),Yt=(a(399),a(87)),Gt=a.n(Yt),_t=a(41),Jt=a(304),Vt=(a(398),a(392)),Ht=(a(83),a(382),a(391),a(389));a(381),Object(j.a)((function(e){return{dialog:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)},dialogTitle:{textAlign:"center"},dialogContent:{textAlign:"center"},dialogAction:{justifyContent:"center"},titleIcon:{backgroundColor:e.palette.primary.light,color:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.primary.light,cursor:"default"},"& .MuiSvgIcon-root":{fontSize:"8rem"}}}}));Object(j.a)((function(e){return{dialog:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)},dialogTitle:{textAlign:"center"},dialogContent:{textAlign:"center"},dialogAction:{justifyContent:"center"},titleIcon:{backgroundColor:e.palette.primary.light,color:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.primary.light,cursor:"default"},"& .MuiSvgIcon-root":{fontSize:"8rem"}}}}));a(286);var qt,Kt,Zt,Xt,$t=["label","onDelete"];Object(j.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%"},formControl:{width:"100%",variant:"outlined"},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},tab:{flexGrow:1},avatarimage:{display:"flex",justifyContent:"center",margin:"20px",padding:"10px"},large:{width:e.spacing(7),height:e.spacing(7)},green:{color:"#fff",backgroundColor:Et.a[500],margin:"10px",width:e.spacing(7),height:e.spacing(7)},textarea:{resize:"both"}}})),Object(At.a)({palette:{secondary:{main:"#ffffff"}}}),Object(_t.a)("label")(qt||(qt=Object(Qt.a)(["\n  padding: 0 0 4px;\n  line-height: 1.5;\n  display: block;\n"]))),Object(_t.a)("div")(Kt||(Kt=Object(Qt.a)(["\n  width: 300px;\n  border: 1px solid #d9d9d9;\n  background-color: #fff;\n  border-radius: 4px;\n  padding: 1px;\n  display: flex;\n  flex-wrap: wrap;\n\n  &:hover {\n    border-color: #40a9ff;\n  }\n\n  &.focused {\n    border-color: #40a9ff;\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\n  }\n\n  & input {\n    font-size: 14px;\n    height: 30px;\n    box-sizing: border-box;\n    padding: 4px 6px;\n    width: 0;\n    min-width: 30px;\n    flex-grow: 1;\n    border: 0;\n    margin: 0;\n    outline: 0;\n  }\n"]))),Object(_t.a)((function(e){var t=e.label,a=e.onDelete,n=Object(v.a)(e,$t);return l.a.createElement("div",n,l.a.createElement("span",null,t),l.a.createElement(Gt.a,{onClick:a}))}))(Zt||(Zt=Object(Qt.a)(["\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin: 2px;\n  line-height: 22px;\n  background-color: #fafafa;\n  border: 1px solid #e8e8e8;\n  border-radius: 2px;\n  box-sizing: content-box;\n  padding: 0 4px 0 10px;\n  outline: 0;\n  overflow: hidden;\n\n  &:focus {\n    border-color: #40a9ff;\n    background-color: #e6f7ff;\n  }\n\n  & span {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  & svg {\n    font-size: 12px;\n    cursor: pointer;\n    padding: 4px;\n  }\n"]))),Object(_t.a)("ul")(Xt||(Xt=Object(Qt.a)(['\n  width: 300px;\n  margin: 2px 0 0;\n  padding: 0;\n  position: absolute;\n  list-style: none;\n  background-color: #fff;\n  overflow: auto;\n  max-height: 250px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  z-index: 1;\n\n  & li {\n    padding: 5px 12px;\n    display: flex;\n\n    & span {\n      flex-grow: 1;\n    }\n\n    & svg {\n      color: transparent;\n    }\n  }\n\n  & li[aria-selected="true"] {\n    background-color: #fafafa;\n    font-weight: 600;\n\n    & svg {\n      color: #1890ff;\n    }\n  }\n\n  & li[data-focus="true"] {\n    background-color: #e6f7ff;\n    cursor: pointer;\n\n    & svg {\n      color: #000;\n    }\n  }\n'])));Object(j.a)((function(e){return Object(U.a)({root:{backgroundColor:e.palette.background.dark,minHeight:"100%"},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)},exporesultroot:{},avatar:{marginRight:e.spacing(2),borderRadius:"10px"},pagination:{flexShrink:0},active:{color:"#228539 !important"},inactive:{color:"#dc3545 !important"},table:{minWidth:300}},"avatar",{marginRight:e.spacing(2),borderRadius:"10px"})}));var ea,ta,aa,na,la=["label","onDelete"];Object(j.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%"},formControl:{width:"100%",variant:"outlined"},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},tab:{flexGrow:1},avatarimage:{display:"flex",justifyContent:"center",margin:"20px",padding:"10px"},large:{width:e.spacing(7),height:e.spacing(7)},green:{color:"#fff",backgroundColor:Et.a[500],margin:"10px",width:e.spacing(7),height:e.spacing(7)},textarea:{resize:"both"}}})),Object(At.a)({palette:{secondary:{main:"#ffffff"}}}),Object(_t.a)("label")(ea||(ea=Object(Qt.a)(["\n  padding: 0 0 4px;\n  line-height: 1.5;\n  display: block;\n"]))),Object(_t.a)("div")(ta||(ta=Object(Qt.a)(["\n  width: 300px;\n  border: 1px solid #d9d9d9;\n  background-color: #fff;\n  border-radius: 4px;\n  padding: 1px;\n  display: flex;\n  flex-wrap: wrap;\n\n  &:hover {\n    border-color: #40a9ff;\n  }\n\n  &.focused {\n    border-color: #40a9ff;\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\n  }\n\n  & input {\n    font-size: 14px;\n    height: 30px;\n    box-sizing: border-box;\n    padding: 4px 6px;\n    width: 0;\n    min-width: 30px;\n    flex-grow: 1;\n    border: 0;\n    margin: 0;\n    outline: 0;\n  }\n"]))),Object(_t.a)((function(e){var t=e.label,a=e.onDelete,n=Object(v.a)(e,la);return l.a.createElement("div",n,l.a.createElement("span",null,t),l.a.createElement(Gt.a,{onClick:a}))}))(aa||(aa=Object(Qt.a)(["\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin: 2px;\n  line-height: 22px;\n  background-color: #fafafa;\n  border: 1px solid #e8e8e8;\n  border-radius: 2px;\n  box-sizing: content-box;\n  padding: 0 4px 0 10px;\n  outline: 0;\n  overflow: hidden;\n\n  &:focus {\n    border-color: #40a9ff;\n    background-color: #e6f7ff;\n  }\n\n  & span {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  & svg {\n    font-size: 12px;\n    cursor: pointer;\n    padding: 4px;\n  }\n"]))),Object(_t.a)("ul")(na||(na=Object(Qt.a)(['\n  width: 300px;\n  margin: 2px 0 0;\n  padding: 0;\n  position: absolute;\n  list-style: none;\n  background-color: #fff;\n  overflow: auto;\n  max-height: 250px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  z-index: 1;\n\n  & li {\n    padding: 5px 12px;\n    display: flex;\n\n    & span {\n      flex-grow: 1;\n    }\n\n    & svg {\n      color: transparent;\n    }\n  }\n\n  & li[aria-selected="true"] {\n    background-color: #fafafa;\n    font-weight: 600;\n\n    & svg {\n      color: #1890ff;\n    }\n  }\n\n  & li[data-focus="true"] {\n    background-color: #e6f7ff;\n    cursor: pointer;\n\n    & svg {\n      color: #000;\n    }\n  }\n'])));Object(j.a)((function(e){return Object(U.a)({root:{backgroundColor:e.palette.background.dark,minHeight:"100%"},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)},exporesultroot:{},avatar:{marginRight:e.spacing(2),borderRadius:"10px"},pagination:{flexShrink:0},active:{color:"#228539 !important"},inactive:{color:"#dc3545 !important"},table:{minWidth:300}},"avatar",{marginRight:e.spacing(2),borderRadius:"10px"})}));var ra,oa,ca,ia,sa,ma=["label","onDelete"],ua=["currentUserId","viweOnly","className","redirectBack","productDetails"],da=Object(j.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%"},formControl:{width:"100%",variant:"outlined",marginTop:"5px",marginBottom:"5px"},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},tab:{flexGrow:1},avatarimage:{display:"flex",justifyContent:"center",margin:"20px",padding:"10px"},large:{width:e.spacing(7),height:e.spacing(7)},green:{color:"#fff",backgroundColor:Et.a[500],margin:"10px",width:e.spacing(7),height:e.spacing(7)},textarea:{resize:"both"}}})),pa=Object(At.a)({palette:{secondary:{main:"#ffffff"}}}),ga=(Object(_t.a)("label")(ra||(ra=Object(Qt.a)(["\n  padding: 0 0 4px;\n  line-height: 1.5;\n  display: block;\n"]))),Object(_t.a)("div")(oa||(oa=Object(Qt.a)(["\n  width: 300px;\n  border: 1px solid #d9d9d9;\n  background-color: #fff;\n  border-radius: 4px;\n  padding: 1px;\n  display: flex;\n  flex-wrap: wrap;\n\n  &:hover {\n    border-color: #40a9ff;\n  }\n\n  &.focused {\n    border-color: #40a9ff;\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\n  }\n\n  & input {\n    font-size: 14px;\n    height: 30px;\n    box-sizing: border-box;\n    padding: 4px 6px;\n    width: 0;\n    min-width: 30px;\n    flex-grow: 1;\n    border: 0;\n    margin: 0;\n    outline: 0;\n  }\n"]))),Object(_t.a)((function(e){var t=e.label,a=e.onDelete,n=Object(v.a)(e,ma);return l.a.createElement("div",n,l.a.createElement("span",null,t),l.a.createElement(Gt.a,{onClick:a}))}))(ca||(ca=Object(Qt.a)(["\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin: 2px;\n  line-height: 22px;\n  background-color: #fafafa;\n  border: 1px solid #e8e8e8;\n  border-radius: 2px;\n  box-sizing: content-box;\n  padding: 0 4px 0 10px;\n  outline: 0;\n  overflow: hidden;\n\n  &:focus {\n    border-color: #40a9ff;\n    background-color: #e6f7ff;\n  }\n\n  & span {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  & svg {\n    font-size: 12px;\n    cursor: pointer;\n    padding: 4px;\n  }\n"]))),Object(_t.a)("ul")(ia||(ia=Object(Qt.a)(['\n  width: 300px;\n  margin: 2px 0 0;\n  padding: 0;\n  position: absolute;\n  list-style: none;\n  background-color: #fff;\n  overflow: auto;\n  max-height: 250px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  z-index: 1;\n\n  & li {\n    padding: 5px 12px;\n    display: flex;\n\n    & span {\n      flex-grow: 1;\n    }\n\n    & svg {\n      color: transparent;\n    }\n  }\n\n  & li[aria-selected="true"] {\n    background-color: #fafafa;\n    font-weight: 600;\n\n    & svg {\n      color: #1890ff;\n    }\n  }\n\n  & li[data-focus="true"] {\n    background-color: #e6f7ff;\n    cursor: pointer;\n\n    & svg {\n      color: #000;\n    }\n  }\n']))),function(e){var t=e.currentUserId,a=e.viweOnly,r=e.className,o=(e.redirectBack,e.productDetails),c=Object(v.a)(e,ua),i=(Object(f.a)().t,da()),s=l.a.useState("1"),m=Object(O.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(!1),g=Object(O.a)(p,2),E=g[0],b=g[1],j=Object(n.useState)(!1),x=Object(O.a)(j,2),N=(x[0],x[1],Object(n.useState)({isOpen:!1,title:"",subTitle:""})),C=Object(O.a)(N,2),S=C[0],D=C[1],I=Object(n.useState)({isOpen:!1,title:"",subTitle:""}),P=Object(O.a)(I,2),R=P[0],T=P[1],B=Object(n.useState)(!0),L=Object(O.a)(B,2),F=L[0],z=L[1],M=l.a.useState(!1),Q=Object(O.a)(M,2),Y=(Q[0],Q[1],Object(n.useState)([])),G=Object(O.a)(Y,2),V=(G[0],G[1],Object(n.useState)([])),q=Object(O.a)(V,2),Z=(q[0],q[1],l.a.useState(!1)),X=Object(O.a)(Z,2),$=(X[0],X[1]),ee=Object(n.useState)({productName:"",productCompany:"",productQty:1}),te=Object(O.a)(ee,2),ne=te[0],le=te[1];Object(n.useEffect)((function(){t&&(console.log("currentUserId :: ",o),le(Object(W.a)(Object(W.a)({},ne),{},{productName:o.productName,productCompany:o.productCompany})))}),[]);var re=function(e){"userCountry"===e.target.name&&(console.log("CASE TYPE :: ",e.target.value),""===e.target.value?le(Object(W.a)(Object(W.a)({},ne),{},{userCountry:""})):"Others"===e.target.value||"\u0623\u062e\u0631\u0649"===e.target.value?(le(Object(W.a)(Object(W.a)({},ne),{},{userCountry:""})),$(!0)):$(!1))},oe=function(e){le(Object(W.a)(Object(W.a)({},ne),{},Object(U.a)({},e.target.name,e.target.value)))};function ce(e){z(!1)}var ie=l.a.useState({open:!1}),se=Object(O.a)(ie,2),me=se[0],ue=se[1],de=me.open;return l.a.createElement("div",null,F&&l.a.createElement(Ie,{className:i.root,title:"Add New Product"},l.a.createElement(xe.a,{maxWidth:!1},l.a.createElement("form",Object.assign({autoComplete:"off",noValidate:!0,className:Object(A.a)(i.root,r)},c),l.a.createElement(w.a,{display:"flex",style:{alignItems:"center"}},l.a.createElement(ht.a,{color:"primary",variant:"contained",onClick:function(){return ce()},style:{margin:"0px 16px",cursor:"pointer"}}),l.a.createElement(w.a,{flexGrow:1},l.a.createElement(k.a,{variant:"h4",className:"txtleft"},"Product Form")),!a&&(E?l.a.createElement(pt.a,{color:"secondary",style:{margin:"5px"},size:20}):""),!a&&l.a.createElement(H.a,{color:"primary",variant:"contained",disabled:E,onClick:function(){!function(){b(!0);var e=localStorage.getItem("userId"),a=localStorage.getItem("email");if(""==ne.productName)b(!1),T({isOpen:!0,title:"Please Enter Product Name "});else if(""==ne.productCompany)b(!1),T({isOpen:!0,title:"Please Enter Product Company "});else if(t){var n={userId:e,userEmail:a,productName:ne.productName,productCompany:ne.productCompany,productQty:ne.productQty};console.log("currentUserId :: ",t),console.log("OBJ :: ",n),h.firestore().collection("product-list").doc(t).update(n).then((function(){le(Object(W.a)(Object(W.a)({},ne),{},{productName:"",productCompany:"",productQty:""})),T({isOpen:!0,title:"Product update successfully"}),z(!1)}))}else{var l={userId:e,userEmail:a,productName:ne.productName,productCompany:ne.productCompany,productQty:ne.productQty};console.log("OBJ :: ",l);var r=h.firestore();r.collection("product-list").where("productName","==",ne.productName).get().then((function(e){e.empty?r.collection("product-list").add(l).then((function(e){le(Object(W.a)(Object(W.a)({},ne),{},{productName:"",productCompany:"",productQty:""})),T({isOpen:!0,title:"Product added successfully"}),z(!1)})).catch((function(e){alert("Error is ",e)})):T({isOpen:!0,title:"Product already exists."})})).catch((function(e){console.error("Error checking email:",e)}))}}()}},l.a.createElement(K.a,{className:"btnRightDetails"}),t?"Update":"Add")),l.a.createElement("hr",null),l.a.createElement("div",{className:"overflowform"},l.a.createElement(kt.a,{style:{minHeight:"500px",marginBottom:"20px"}},l.a.createElement(yt.a,null,l.a.createElement("div",{className:i.tab},l.a.createElement(mt.a,{value:u},l.a.createElement(y.a,{position:"static"},l.a.createElement(jt.a,{theme:pa},l.a.createElement(ut.a,{onChange:function(e,t){d(t)},"aria-label":"profiletab",variant:"scrollable",scrollButtons:"on"},l.a.createElement(st.a,{label:"Details",value:"1"})))),l.a.createElement(dt.a,{value:"1"},l.a.createElement(_.a,{container:!0,spacing:3},l.a.createElement(_.a,{item:!0,md:4,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"Product Name",name:"productName",onChange:oe,onBlur:re,required:!0,value:ne.productName,disabled:a,variant:"outlined",type:"text"})),l.a.createElement(_.a,{item:!0,md:4,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"Product Company",name:"productCompany",onChange:oe,onBlur:re,required:!0,value:ne.productCompany,disabled:a,variant:"outlined",type:"text"})),l.a.createElement(_.a,{item:!0,md:4,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"Qty",name:"productQty",required:!0,value:ne.productQty,disabled:!0,variant:"outlined",type:"number"})))))))))),l.a.createElement(ae,{alertDialog:R,setAlertDialog:function(){T(Object(W.a)(Object(W.a)({},R),{},{isOpen:!1,title:"",subTitle:""}))}}),l.a.createElement(ft,{confirmDialog:S,setConfirmDialog:D}),l.a.createElement(Vt.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:de,TransitionComponent:function(e){return l.a.createElement(Jt.a,Object.assign({},e,{direction:"up"}))},autoHideDuration:6e3,onClose:function(){ue(Object(W.a)(Object(W.a)({},me),{},{open:!1}))}},l.a.createElement(Ht.a,{severity:"error"},"Please fill all required field.")))),!F&&l.a.createElement(ba,null))}),fa=["className","sideOptionSelected"],Ea=Object(j.a)((function(e){return Object(U.a)({root:{backgroundColor:e.palette.background.dark,minHeight:"100%"},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)},exporesultroot:{},avatar:{marginRight:e.spacing(2),borderRadius:"10px"},pagination:{flexShrink:0},active:{color:"#228539 !important"},inactive:{color:"#dc3545 !important"},table:{minWidth:300}},"avatar",{marginRight:e.spacing(2),borderRadius:"10px"})})),ba=function(e){var t=e.className,a=(e.sideOptionSelected,Object(v.a)(e,fa)),r=Object(f.a)().t,o=Object(n.useState)([]),c=Object(O.a)(o,2),i=c[0],s=c[1],m=Object(n.useState)([]),u=Object(O.a)(m,2),d=u[0],p=u[1],g=Object(n.useState)(""),E=Object(O.a)(g,2),b=E[0],j=E[1],y=Object(n.useState)(0),x=Object(O.a)(y,2),N=x[0],S=(x[1],Object(n.useState)(!0)),D=Object(O.a)(S,2),I=D[0],P=D[1],R=Object(n.useState)(!1),T=Object(O.a)(R,2),B=T[0],L=T[1],z=Object(n.useState)(2),M=Object(O.a)(z,2),U=(M[0],M[1],Object(n.useState)(0)),Q=Object(O.a)(U,2),Y=Q[0],G=Q[1],_=Object(n.useState)(),V=Object(O.a)(_,2),q=V[0];V[1];Object(n.useEffect)((function(){P(!1),L(!0),K()}),[]);var K=function(){h.firestore().collection("product-list").get().then((function(e){var t=[];e.forEach((function(e){var a=e.data();t.push(a)})),console.log("DOC Data again :: ",t),s(t),p(t),P(!1),t.length<=0&&L(!0)}))},Z=Ea(),X=Object(n.useState)(!1),$=Object(O.a)(X,2),ee=$[0],te=$[1],ae=Object(ye.a)((function(e){return{tooltip:{boxShadow:e.shadows[1],fontSize:13}}}))(F.a),ne=Object(n.useState)(""),le=Object(O.a)(ne,2),re=le[0],oe=le[1],ce=Object(n.useState)(""),ie=Object(O.a)(ce,2),se=ie[0],me=ie[1],ue=Object(n.useState)({isOpen:!1,title:"",subTitle:""}),de=Object(O.a)(ue,2),pe=de[0],ge=de[1];return l.a.createElement(Ie,{className:Z.root,title:"Product List"},!ee&&l.a.createElement(xe.a,{maxWidth:!1},l.a.createElement("div",Object.assign({className:Object(A.a)(Z.root,t)},a),l.a.createElement(w.a,{display:"flex",className:"sideBtn"},l.a.createElement(w.a,{flexGrow:1},l.a.createElement(k.a,{variant:"h4",className:"txtleft"},"Product List")),l.a.createElement(w.a,null,l.a.createElement(H.a,{color:"primary",variant:"contained",onClick:function(){te(!0)}},l.a.createElement(et.a,{className:"btnRightDetails"}),l.a.createElement("span",null,"Add New Product")))),l.a.createElement("hr",null),l.a.createElement(w.a,{mt:3},l.a.createElement(kt.a,null,l.a.createElement(yt.a,null,l.a.createElement(w.a,{maxWidth:"100%"},l.a.createElement(J.a,{fullWidth:!0,InputProps:{startAdornment:l.a.createElement(It.a,{position:"start"},l.a.createElement(Pt.a,{fontSize:"small",color:"primary"},l.a.createElement(zt.a,null)))},placeholder:"Search for products",value:b,onChange:function(e){j(e.target.value);var t,a,n=(t=i,a=e.target.value,t.filter((function(e){return e.productCompany.toLowerCase().includes(a.toLowerCase())||e.productName.toLowerCase().includes(a.toLowerCase())})));n.length>0?(L(!0),p(n)):(L(!1),p(n))},variant:"outlined"})))))),l.a.createElement(w.a,{mt:3,mb:3},l.a.createElement(kt.a,{className:Z.exporesultroot},l.a.createElement(w.a,{md:12},l.a.createElement("div",{className:"overflowtable"},I&&l.a.createElement(Rt.a,{className:Z.table},l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null)))),l.a.createElement(Bt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))))),!B&&!I&&l.a.createElement("img",{src:nt.a}),!I&&B&&l.a.createElement(Rt.a,{className:Z.table},l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,{className:"txtleft"},"Name"),l.a.createElement(Te.a,{className:"txtleft"},"Company"),l.a.createElement(Te.a,{className:"txtleft"},"QTY"),l.a.createElement(Te.a,null),l.a.createElement(Te.a,null))),l.a.createElement(Bt.a,null,d.map((function(e){return l.a.createElement(Be.a,{hover:!0},l.a.createElement(Te.a,{align:"left",className:Z.active},e.productName),l.a.createElement(Te.a,{align:"left",className:Z.active},e.productCompany),l.a.createElement(Te.a,{align:"left",className:Z.active},e.productQty),l.a.createElement(Te.a,{align:"left",component:"th",scope:"row"},l.a.createElement(ae,{className:Z.tooltip,TransitionComponent:Lt.a,title:"Edit Product"},l.a.createElement(Ke.a,{color:"primary",onClick:function(){return function(e,t){try{var a=h.firestore().collection("product-list");(a=a.where("productName","==",e)).get().then((function(e){e.forEach((function(e){console.log("USER DOC ID ::  ",e.id),oe(e.id),me(t),te(!0)}))}))}catch(n){errorLogs("handleDelete",n)}}(e.productName,e)},variant:"contained",size:"sm"}))),l.a.createElement(Te.a,{align:"left"},l.a.createElement(ae,{TransitionComponent:Lt.a,title:"Delete Product"},l.a.createElement(Xe.a,{color:"primary",variant:"contained",onClick:function(){return ge({isOpen:!0,title:"are you sure you want to delete this product ?",subTitle:"once deleted you cant undo this action",onConfirm:function(){!function(e){var t=e;ge(Object(W.a)(Object(W.a)({},pe),{},{isOpen:!1}));try{var a=h.firestore(),n=a.collection("product-list");(n=n.where("productName","==",t)).get().then((function(e){e.forEach((function(e){console.log("USER DOC ID ::  ",e.id),a.collection("product-list").doc(e.id).delete().then((function(){console.log("Document successfully deleted!"),K()})).catch((function(e){console.error("Error removing document: ",e)}))}))}))}catch(l){errorLogs("handleDelete",l)}}(e.productName)}})}}))))}))),l.a.createElement(He.a,null,l.a.createElement(Be.a,null,l.a.createElement(Ft.a,{rowsPerPageOptions:[10],count:d.length,rowsPerPage:20,page:N,ActionsComponent:function(e){var t=Ea(),a=Object(Dt.a)(),n=function(e){P(!1),L(!0)};return l.a.createElement("div",{className:t.pagination},l.a.createElement(C.a,{onClick:function(){j(""),G(Y-1),n()},disabled:0===Y,"aria-label":r("user-list_previouspage")},"rtl"===a.direction?l.a.createElement(Ve.a,null):l.a.createElement(_e.a,null)),l.a.createElement(C.a,{onClick:function(){j(""),G(Y+1),n()},disabled:q,"aria-label":r("user-list_nextpage")},"rtl"===a.direction?l.a.createElement(_e.a,null):l.a.createElement(Ve.a,null)))},style:{overflow:"visible"}}))))))))),ee&&!re?l.a.createElement(ga,null):"",re&&ee?l.a.createElement(ga,{currentUserId:re,productDetails:se}):"",l.a.createElement(ft,{confirmDialog:pe,setConfirmDialog:ge}))},ha=a(205),Oa=a.n(ha),va=a(383),Aa=["className","sideOptionSelected"],ja=Object(j.a)((function(e){return Object(U.a)({root:{backgroundColor:e.palette.background.dark,minHeight:"100%"},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)},exporesultroot:{},avatar:{marginRight:e.spacing(2),borderRadius:"10px"},pagination:{flexShrink:0},active:{color:"#000077 !important"},dangertextTbl:{color:"#a72727 !important"},successtextTbl:{color:"#27a727 !important"},inactive:{color:"#dc3545 !important"},table:{minWidth:300}},"avatar",{marginRight:e.spacing(2),borderRadius:"10px"})})),ya=[],xa=[],wa=0,Na=0,Ca=0,Sa=function(e){var t=e.className,a=(e.sideOptionSelected,Object(v.a)(e,Aa)),r=Object(f.a)().t,o=Object(n.useState)({from_date:"",to_date:""}),c=Object(O.a)(o,2),i=c[0],s=c[1],m=Object(n.useState)([]),u=Object(O.a)(m,2),d=u[0],p=u[1],g=Object(n.useState)([]),E=Object(O.a)(g,2),b=E[0],j=E[1],y=Object(n.useState)([]),x=Object(O.a)(y,2),N=x[0],S=x[1],D=Object(n.useState)(""),I=Object(O.a)(D,2),P=I[0],R=I[1],T=Object(n.useState)(0),B=Object(O.a)(T,2),L=B[0],F=(B[1],Object(n.useState)(!0)),z=Object(O.a)(F,2),M=z[0],Q=z[1],Y=Object(n.useState)(!1),G=Object(O.a)(Y,2),V=G[0],q=G[1],K=Object(n.useState)(2),Z=Object(O.a)(K,2),X=(Z[0],Z[1],Object(n.useState)(0)),$=Object(O.a)(X,2),ee=$[0],te=$[1],ae=Object(n.useState)(),ne=Object(O.a)(ae,2),le=ne[0];ne[1];Object(n.useEffect)((function(){Q(!1),q(!0),re()}),[]);var re=function(){h.firestore().collection("invoice-list").get().then((function(e){ya=[],e.forEach((function(e){var t=e.data();ya.push(t)})),console.log("tempInvoiceObj :: ",ya),xa=[],wa=0,Na=0,ya.map((function(e,t){if(e.totalBillAmmount!==e.restBillAmmount){if(0===e.restBillAmmount)if(e.paymentDetails.length){console.log("VAL :: ",e.paymentDetails.length),Ca=0;for(var a=0;a<e.paymentDetails.length;a++)Ca+=parseFloat(e.paymentDetails[a].paidAmmount);console.log("tmp_chk_val :: ",Ca),parseFloat(e.totalBillAmmount)===Ca&&(wa=Ca,Na=0)}else wa=0,Na=e.totalBillAmmount;0!==e.restBillAmmount&&(wa=e.totalBillAmmount-e.restBillAmmount,Na=e.restBillAmmount),xa.push({clientName:e.clientName,clientContact:e.clientContact,invoiceNo:e.invoiceNo,order_date:e.order_date,totalBillAmmount:e.totalBillAmmount,restBillAmmount:Na,depositAmmount:e.depositAmmount,paidBillAmmount:wa})}}));var t=xa.sort((function(e,t){return t.order_date-e.order_date}));console.log("finalObjData :: ",t),p(t),j(t),S(t),Q(!1),t.length<=0&&q(!0)}))},oe=ja(),ce=Object(n.useState)({isOpen:!1,title:"",subTitle:""}),ie=Object(O.a)(ce,2),se=ie[0],me=ie[1],ue=function(e){s(Object(W.a)(Object(W.a)({},i),{},Object(U.a)({},e.target.name,e.target.value)))};return l.a.createElement(Ie,{className:oe.root,title:"Rest Payment List"},l.a.createElement(xe.a,{maxWidth:!1},l.a.createElement("div",Object.assign({className:Object(A.a)(oe.root,t)},a),l.a.createElement(w.a,{display:"flex",className:"sideBtn"},l.a.createElement(w.a,{flexGrow:1},l.a.createElement(k.a,{variant:"h4",className:"txtleft"},"Rest Payment List"))),l.a.createElement("hr",null),l.a.createElement(w.a,{mt:3},l.a.createElement(kt.a,null,l.a.createElement(yt.a,null,l.a.createElement(_.a,{container:!0,spacing:3},l.a.createElement(_.a,{item:!0,md:3,xs:12},l.a.createElement(w.a,{maxWidth:"100%"},l.a.createElement(J.a,{fullWidth:!0,InputProps:{startAdornment:l.a.createElement(It.a,{position:"start"},l.a.createElement(Pt.a,{fontSize:"small",color:"primary"},l.a.createElement(zt.a,null)))},placeholder:"Search for products",value:P,onChange:function(e){R(e.target.value);var t,a,n=(t=d,a=e.target.value,t.filter((function(e){return e.clientName.toLowerCase().includes(a.toLowerCase())||e.clientContact.toLowerCase().includes(a.toLowerCase())||e.totalBillAmmount.toLowerCase().includes(a.toLowerCase())})));n.length>0?(q(!0),j(n)):(q(!1),j(n))},variant:"outlined"}))),l.a.createElement(_.a,{item:!0,md:3,xs:12},l.a.createElement(J.a,{label:"From",type:"date",value:i.from_date,defaultValue:i.from_date,name:"from_date",onChange:ue,InputLabelProps:{shrink:!0},variant:"outlined",style:{width:"100%",marginLeft:"0",marginRight:"0"}})),l.a.createElement(_.a,{item:!0,md:3,xs:12},l.a.createElement(J.a,{label:"To",type:"date",value:i.to_date,defaultValue:i.to_date,name:"to_date",onChange:ue,InputLabelProps:{shrink:!0},variant:"outlined",style:{width:"100%",marginLeft:"0",marginRight:"0"}})),l.a.createElement(_.a,{item:!0,md:3,xs:12},l.a.createElement(H.a,{variant:"contained",className:"btnInvoice",onClick:function(){return function(){if(console.log("FROM :: ",i.from_date),console.log("To :: ",i.to_date),""===i.from_date)alert("Please Select From Date.");else if(""===i.to_date)alert("Please Select To Date.");else{var e=new Date(i.from_date).getTime(),t=new Date(i.to_date).getTime(),a=b.filter((function(a){return a.order_date>=e&&a.order_date<=t}));p(a),j(a)}}()}},l.a.createElement(Oa.a,null)),l.a.createElement(H.a,{style:{marginLeft:"2px"},variant:"contained",className:"btnInvoice",onClick:function(){return s(Object(W.a)(Object(W.a)({},i),{},{from_date:"",to_date:""})),j(N),void p(N)}},l.a.createElement(va.a,null)))))))),l.a.createElement(w.a,{mt:3,mb:3},l.a.createElement(kt.a,{className:oe.exporesultroot},l.a.createElement(w.a,{md:12},l.a.createElement("div",{className:"overflowtable"},M&&l.a.createElement(Rt.a,{className:oe.table},l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null)))),l.a.createElement(Bt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))))),!V&&!M&&l.a.createElement("img",{src:nt.a}),!M&&V&&l.a.createElement(Rt.a,{className:oe.table},l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,{className:"txtleft"},"Name"),l.a.createElement(Te.a,{className:"txtleft"},"Contact"),l.a.createElement(Te.a,{className:"txtleft"},"Date"),l.a.createElement(Te.a,{className:"txtleft"},"Total"),l.a.createElement(Te.a,{className:"txtleft"},"Deposit"),l.a.createElement(Te.a,{className:"txtleft"},"Paid"),l.a.createElement(Te.a,{className:"txtleft"},"Rest"))),l.a.createElement(Bt.a,null,b.map((function(e){return l.a.createElement(Be.a,{hover:!0},l.a.createElement(Te.a,{align:"left",className:oe.active},e.clientName),l.a.createElement(Te.a,{align:"left",className:oe.active},e.clientContact),l.a.createElement(Te.a,{align:"left",className:oe.active},Re()(new Date(e.order_date)).format("DD/MM/YYYY")),l.a.createElement(Te.a,{align:"left",className:oe.active},e.totalBillAmmount),l.a.createElement(Te.a,{align:"left",className:oe.active},e.depositAmmount),l.a.createElement(Te.a,{align:"left",className:oe.successtextTbl},e.paidBillAmmount),l.a.createElement(Te.a,{align:"left",className:oe.dangertextTbl},e.restBillAmmount))}))),l.a.createElement(He.a,null,l.a.createElement(Be.a,null,l.a.createElement(Ft.a,{rowsPerPageOptions:[10],count:b.length,rowsPerPage:20,page:L,ActionsComponent:function(e){var t=ja(),a=Object(Dt.a)(),n=function(e){Q(!1),q(!0)};return l.a.createElement("div",{className:t.pagination},l.a.createElement(C.a,{onClick:function(){R(""),te(ee-1),n()},disabled:0===ee,"aria-label":r("user-list_previouspage")},"rtl"===a.direction?l.a.createElement(Ve.a,null):l.a.createElement(_e.a,null)),l.a.createElement(C.a,{onClick:function(){R(""),te(ee+1),n()},disabled:le,"aria-label":r("user-list_nextpage")},"rtl"===a.direction?l.a.createElement(_e.a,null):l.a.createElement(Ve.a,null)))},style:{overflow:"visible"}}))))))))),l.a.createElement(ft,{confirmDialog:se,setConfirmDialog:me}))},Da=a(117),ka=["label","onDelete"],Ia=["currentUserId","viweOnly","className","redirectBack","orderDetails"],Pa=Object(j.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%"},formControl:{width:"100%",variant:"outlined",marginTop:"5px",marginBottom:"5px"},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},tab:{flexGrow:1},avatarimage:{display:"flex",justifyContent:"center",margin:"20px",padding:"10px"},large:{width:e.spacing(7),height:e.spacing(7)},green:{color:"#fff",backgroundColor:Et.a[500],margin:"10px",width:e.spacing(7),height:e.spacing(7)},textarea:{resize:"both"}}})),Ra=Object(At.a)({palette:{secondary:{main:"#ffffff"}}}),Ta=(Object(_t.a)((function(e){var t=e.label,a=e.onDelete,n=Object(v.a)(e,ka);return l.a.createElement("div",n,l.a.createElement("span",null,t),l.a.createElement(Gt.a,{onClick:a}))}))(sa||(sa=Object(Qt.a)(["\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin: 2px;\n  line-height: 22px;\n  background-color: #fafafa;\n  border: 1px solid #e8e8e8;\n  border-radius: 2px;\n  box-sizing: content-box;\n  padding: 0 4px 0 10px;\n  outline: 0;\n  overflow: hidden;\n\n  &:focus {\n    border-color: #40a9ff;\n    background-color: #e6f7ff;\n  }\n\n  & span {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  & svg {\n    font-size: 12px;\n    cursor: pointer;\n    padding: 4px;\n  }\n"]))),[]),Ba=0,La=[],Fa=0,za=0,Ma=[],Ua=[],Wa=function(e){var t=e.currentUserId,a=e.viweOnly,r=e.className,o=(e.redirectBack,e.orderDetails),c=Object(v.a)(e,Ia),i=(Object(f.a)().t,Pa()),s=Object(n.useState)([]),m=Object(O.a)(s,2),u=m[0],d=m[1],p=l.a.useState("1"),g=Object(O.a)(p,2),E=g[0],b=g[1],j=Object(n.useState)(!1),x=Object(O.a)(j,2),N=x[0],C=x[1],S=Object(n.useState)(!1),I=Object(O.a)(S,2),P=(I[0],I[1],Object(n.useState)({isOpen:!1,title:"",subTitle:""})),R=Object(O.a)(P,2),T=R[0],B=R[1],L=Object(n.useState)({isOpen:!1,title:"",subTitle:""}),F=Object(O.a)(L,2),z=F[0],M=F[1],Q=Object(n.useState)(!0),Y=Object(O.a)(Q,2),G=Y[0],V=Y[1],q=Object(n.useState)({clientName:"",clientContact:0,order_date:"",depositAmmount:0}),Z=Object(O.a)(q,2),X=Z[0],$=Z[1],ee={productName:[],productQty:0,productPrice:0,unitPrice:0,fromDate:"",toDate:"",totalDays:0,totalRent:0},te=Object(n.useState)([ee]),ne=Object(O.a)(te,2),le=ne[0],re=ne[1],oe=Object(n.useState)(0),ce=Object(O.a)(oe,2),ie=ce[0],se=ce[1];Object(n.useEffect)((function(){if(t){console.log("currentUserId :: ",o),$(Object(W.a)(Object(W.a)({},X),{},{clientName:o.clientName,clientContact:o.clientContact,order_date:Re()(new Date(o.order_date)).format("YYYY-MM-DD"),depositAmmount:o.depositAmmount}));var e=o.productList;console.log("dummyArray : ",e),Ua=[],e.map((function(e,t){Ua.push({fromDate:Re()(new Date(e.fromDate)).format("YYYY-MM-DD"),toDate:Re()(new Date(e.toDate)).format("YYYY-MM-DD"),totalDays:e.totalDays,productPrice:e.productPrice,productQty:e.productQty,unitPrice:e.unitPrice,productName:e.productName,totalRent:e.totalRent})})),re(Ua),se(o.orderTotalAmmount)}me()}),[]);var me=function(){h.firestore().collection("product-list").get().then((function(e){var t=[];e.forEach((function(e){var a=e.data();t.push(a)})),d(t)}))},ue=function(e){},de=function(e){$(Object(W.a)(Object(W.a)({},X),{},Object(U.a)({},e.target.name,e.target.value)))},pe=function(e,t){var a=e.target.name,n=e.target.value;if(La=[],"productName"===a?((La=Object(Da.a)(le))[t][a]=n,La[t].productPrice=0,La[t].productQty=0,La[t].fromDate="",La[t].toDate="",La[t].totalDays=0,La[t].totalRent=0,Fa=0,za=0):"productPrice"===a?((La=Object(Da.a)(le))[t][a]=n,La[t].productQty=0,La[t].fromDate="",La[t].toDate="",La[t].totalDays=0,La[t].totalRent=0,Fa=0,za=0):(La=Object(Da.a)(le))[t][a]=n,"productQty"===a&&e.target.value>0&&(Ba=e.target.value*le[t].productPrice,La[t].unitPrice=le[t].productPrice),"fromDate"===a&&(Fa=new Date(n).getTime()),"toDate"===a&&(za=new Date(n).getTime()),Fa&&za){var l=(za-Fa)/864e5;La[t].totalDays=l,La[t].totalRent=Ba*l}for(var r=0,o=0;o<La.length;o++)r+=parseFloat(La[o].totalRent);re(La),se(r)};function ge(e){V(!1)}var fe=l.a.useState({open:!1}),Ee=Object(O.a)(fe,2),be=Ee[0],he=Ee[1],Oe=be.open;var ve=function(){Ba=0,La=[],Fa=0,za=0;var e=Object(W.a)({},ee);re([].concat(Object(Da.a)(le),[e]))},Ae=function(e){var t=Object.values(e);if(0===t.length)return!1;for(var a=0;a<t.length;a++)if(""===t[a]||0===t[a])return!1;return!0},je=function(e,t){var a={userId:e,userEmail:t,clientName:X.clientName,clientContact:X.clientContact,order_date:new Date(X.order_date).getTime(),productList:Ma,depositAmmount:X.depositAmmount,orderTotalAmmount:ie};console.log("OBJ :: ",a),h.firestore().collection("order-list").add(a).then((function(e){"II7rySKg8MJRPpZCsrm9",$(Object(W.a)(Object(W.a)({},X),{},{clientName:"",clientContact:"",order_date:"",depositAmmount:""})),re([ee]),M({isOpen:!0,title:"Order added successfully"}),V(!1)})).catch((function(e){alert("Error is ",e)}))};return l.a.createElement("div",null,G&&l.a.createElement(Ie,{className:i.root,title:"Add New Order"},l.a.createElement(xe.a,{maxWidth:!1},l.a.createElement("form",Object.assign({autoComplete:"off",noValidate:!0,className:Object(A.a)(i.root,r)},c),l.a.createElement(w.a,{display:"flex",style:{alignItems:"center"}},l.a.createElement(ht.a,{color:"primary",variant:"contained",onClick:function(){return ge()},style:{margin:"0px 16px",cursor:"pointer"}}),l.a.createElement(w.a,{flexGrow:1},l.a.createElement(k.a,{variant:"h4",className:"txtleft"},"Order Form")),!a&&(N?l.a.createElement(pt.a,{color:"secondary",style:{margin:"5px"},size:20}):""),!a&&l.a.createElement(H.a,{color:"primary",variant:"contained",disabled:N,onClick:function(){!function(){console.log("additionalProd :: ",le),console.log("values :: ",X),C(!0);var e=localStorage.getItem("userId"),a=localStorage.getItem("email");if(""==X.clientName)C(!1),M({isOpen:!0,title:"Please Enter Name."});else if(""==X.clientContact)C(!1),M({isOpen:!0,title:"Please Enter Contact No."});else if(0===le.length)C(!1),M({isOpen:!0,title:"Please Select Product and Its Qty."});else if(""===X.order_date)C(!1),M({isOpen:!0,title:"Please Enter Date."});else if(t){console.log("totalRentValue :: ",ie);var n={userId:e,userEmail:a,clientName:X.clientName,clientContact:X.clientContact,order_date:new Date(X.order_date).getTime(),productList:le,depositAmmount:X.depositAmmount,orderTotalAmmount:ie};h.firestore().collection("order-list").doc(t).update(n).then((function(){$(Object(W.a)(Object(W.a)({},X),{},{clientName:"",clientContact:"",order_date:"",depositAmmount:""})),re([ee]),M({isOpen:!0,title:"Order update successfully"}),V(!1)}))}else Ma=[],le.map((function(t,n){Ma.push({fromDate:new Date(t.fromDate).getTime(),toDate:new Date(t.toDate).getTime(),totalDays:t.totalDays,productPrice:t.productPrice,productQty:t.productQty,unitPrice:t.unitPrice,productName:t.productName,totalRent:t.totalRent}),n===le.length-1&&je(e,a)}))}()}},l.a.createElement(K.a,{className:"btnRightDetails"}),t?"Update":"Add")),l.a.createElement("hr",null),l.a.createElement("div",{className:"overflowform"},l.a.createElement(kt.a,{style:{minHeight:"500px",marginBottom:"20px"}},l.a.createElement(yt.a,null,l.a.createElement("div",{className:i.tab},l.a.createElement(mt.a,{value:E},l.a.createElement(y.a,{position:"static"},l.a.createElement(jt.a,{theme:Ra},l.a.createElement(ut.a,{onChange:function(e,t){b(t)},"aria-label":"profiletab",variant:"scrollable",scrollButtons:"on"},l.a.createElement(st.a,{label:"Details",value:"1"})))),l.a.createElement(dt.a,{value:"1"},l.a.createElement(_.a,{container:!0,spacing:3},l.a.createElement(_.a,{item:!0,md:4,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"Name",name:"clientName",onChange:de,onBlur:ue,required:!0,value:X.clientName,disabled:a,variant:"outlined",type:"text"})),l.a.createElement(_.a,{item:!0,md:4,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"Contact No.",name:"clientContact",onChange:de,onBlur:ue,required:!0,value:X.clientContact,disabled:a,variant:"outlined",type:"number"})),l.a.createElement(_.a,{item:!0,md:4,xs:12},l.a.createElement(J.a,{id:"Date",label:"Order Date",type:"date",value:X.order_date,defaultValue:X.order_date,name:"order_date",onChange:de,InputLabelProps:{shrink:!0},variant:"outlined",style:{width:"100%",marginLeft:"0",marginRight:"0"}}))),l.a.createElement("div",null,le.map((function(e,t){return function(e){Ta.splice(0,1,Object(W.a)({},e))}(e),l.a.createElement("div",{style:{border:"1px solid black",marginTop:"10px",paddingRight:"24px"}},l.a.createElement(_.a,{style:{padding:"10px"},container:!0,spacing:3},l.a.createElement(_.a,{item:!0,md:3,xs:12},l.a.createElement(lt.a,{variant:"outlined",fullWidth:!0},l.a.createElement(rt.a,null,"Product Select"),l.a.createElement(ot.a,{variant:"outlined",fullWidth:!0,required:!0,name:"productName",label:"productName",type:"text",value:le[t].productName,onChange:function(e){return pe(e,t)}},u.map((function(e){return l.a.createElement(D.a,{value:e},l.a.createElement(k.a,null,e.productName))}))))),l.a.createElement(_.a,{item:!0,md:3,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"Price",name:"productPrice",onChange:function(e){return pe(e,t)},required:!0,value:le[t].productPrice,disabled:a,variant:"outlined",type:"number"})),l.a.createElement(_.a,{item:!0,md:2,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"Qty",name:"productQty",onChange:function(e){return pe(e,t)},required:!0,value:le[t].productQty,disabled:a,variant:"outlined",type:"number"})),l.a.createElement(_.a,{item:!0,md:2,xs:12},l.a.createElement(J.a,{id:"fromDate",label:"From",type:"date",value:le[t].fromDate,defaultValue:le[t].fromDate,name:"fromDate",onChange:function(e){return pe(e,t)},InputLabelProps:{shrink:!0},variant:"outlined",style:{width:"100%",marginLeft:"0",marginRight:"0"}})),l.a.createElement(_.a,{item:!0,md:2,xs:12},l.a.createElement(J.a,{id:"toDate",label:"Return",type:"date",value:le[t].toDate,defaultValue:le[t].toDate,name:"toDate",onChange:function(e){return pe(e,t)},InputLabelProps:{shrink:!0},variant:"outlined",style:{width:"100%",marginLeft:"0",marginRight:"0"}})),l.a.createElement(_.a,{item:!0,md:1,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"Day's",name:"totalDays",onChange:function(e){return pe(e,t)},required:!0,value:le[t].totalDays,disabled:!0,variant:"outlined",type:"number"})),l.a.createElement(_.a,{item:!0,md:2,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"Rent",name:"totalRent",onChange:function(e){return pe(e,t)},required:!0,value:le[t].totalRent,disabled:!0,variant:"outlined",type:"number"})),l.a.createElement(_.a,{item:!0,md:1,xs:12},l.a.createElement(H.a,{color:"primary",variant:"contained",disabled:N,onClick:function(e){le.length>0?Ae(Ta[0])?ve():alert("Please filed all the details ."):alert("Please filed all the details.")}},l.a.createElement(K.a,{className:"btnRightDetails"})))))}))),l.a.createElement(_.a,{container:!0,spacing:3,style:{marginTop:"5px"}},l.a.createElement(_.a,{item:!0,md:6,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"Total Ammount",name:"totalRentValue",required:!0,value:ie,disabled:!0,variant:"outlined",type:"number"})),l.a.createElement(_.a,{item:!0,md:6,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"Deposit",name:"depositAmmount",onChange:de,onBlur:ue,required:!0,value:X.depositAmmount,disabled:a,variant:"outlined",type:"text"})))))))))),l.a.createElement(ae,{alertDialog:z,setAlertDialog:function(){M(Object(W.a)(Object(W.a)({},z),{},{isOpen:!1,title:"",subTitle:""}))}}),l.a.createElement(ft,{confirmDialog:T,setConfirmDialog:B}),l.a.createElement(Vt.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:Oe,TransitionComponent:function(e){return l.a.createElement(Jt.a,Object.assign({},e,{direction:"up"}))},autoHideDuration:6e3,onClose:function(){he(Object(W.a)(Object(W.a)({},be),{},{open:!1}))}},l.a.createElement(Ht.a,{severity:"error"},"Please fill all required field.")))),!G&&l.a.createElement(Ya,null))},Qa=["className","sideOptionSelected"],Ya=(Object(j.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",fontFamily:"Montserrat"},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)},exporesultroot:{},avatar:{marginRight:e.spacing(2),borderRadius:"10px"},pagination:{flexShrink:0},active:{color:"#00ca73 !important"},inactive:{color:"#dc3545 !important"},table:{minWidth:300},text:{fontFamily:"Montserrat !important"}}})),function(e){var t=e.className,a=(e.sideOptionSelected,Object(v.a)(e,Qa)),r=Object(f.a)().t,o=Object(n.useState)([]),c=Object(O.a)(o,2),i=c[0],s=c[1],m=Object(n.useState)([]),u=Object(O.a)(m,2),d=u[0],p=u[1],g=Object(n.useState)(""),E=Object(O.a)(g,2),b=E[0],y=E[1],x=Object(n.useState)(0),N=Object(O.a)(x,2),S=N[0],D=(N[1],Object(n.useState)(!0)),I=Object(O.a)(D,2),P=I[0],R=I[1],T=Object(n.useState)(!1),B=Object(O.a)(T,2),L=B[0],z=B[1],M=Object(n.useState)(2),U=Object(O.a)(M,2),W=(U[0],U[1],Object(n.useState)(0)),Q=Object(O.a)(W,2),Y=Q[0],G=Q[1],_=Object(n.useState)(),V=Object(O.a)(_,2),q=V[0];V[1];var K=Object(j.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),height:"90vh",overflowY:"auto",width:"90%"}}}));Object(n.useEffect)((function(){R(!1),z(!0),Z()}),[]);var Z=function(){h.firestore().collection("order-list").get().then((function(e){var t=[];e.forEach((function(e){var a=e.data();t.push(a)}));var a=t.sort((function(e,t){return t.order_date-e.order_date}));s(a),p(a),R(!1),a.length<=0&&z(!0)}))},X=K(),$=Object(n.useState)(!1),ee=Object(O.a)($,2),te=ee[0],ae=ee[1],ne=Object(ye.a)((function(e){return{tooltip:{boxShadow:e.shadows[1],fontSize:13}}}))(F.a),le=Object(n.useState)(""),re=Object(O.a)(le,2),oe=re[0],ce=re[1],ie=Object(n.useState)(""),se=Object(O.a)(ie,2),me=se[0],ue=se[1],de=Object(n.useState)({isOpen:!1,title:"",subTitle:""}),pe=Object(O.a)(de,2),ge=pe[0],fe=pe[1];K();return l.a.createElement(Ie,{className:X.root,title:"Order List"},!te&&l.a.createElement(xe.a,{maxWidth:!1},l.a.createElement("div",Object.assign({className:Object(A.a)(X.root,t)},a),l.a.createElement(w.a,{display:"flex",className:"sideBtn"},l.a.createElement(w.a,{flexGrow:1},l.a.createElement(k.a,{variant:"h4",className:"txtleft"},"Order List")),l.a.createElement(w.a,null,l.a.createElement(H.a,{color:"primary",variant:"contained",onClick:function(){ae(!0)}},l.a.createElement(et.a,{className:"btnRightDetails"}),l.a.createElement("span",null,"Add New Order")))),l.a.createElement("hr",null),l.a.createElement(w.a,{mt:3},l.a.createElement(kt.a,null,l.a.createElement(yt.a,null,l.a.createElement(w.a,{maxWidth:"100%"},l.a.createElement(J.a,{fullWidth:!0,InputProps:{startAdornment:l.a.createElement(It.a,{position:"start"},l.a.createElement(Pt.a,{fontSize:"small",color:"primary"},l.a.createElement(zt.a,null)))},placeholder:"Search for invoice",value:b,onChange:function(e){y(e.target.value);var t,a,n=(t=i,a=e.target.value,t.filter((function(e){return e.clientName.toLowerCase().includes(a.toLowerCase())||e.clientContact.toLowerCase().includes(a.toLowerCase())})));n.length>0?(z(!0),p(n)):(z(!1),p(n))},variant:"outlined"})))))),l.a.createElement(w.a,{mt:3,mb:3},l.a.createElement(kt.a,{className:X.exporesultroot},l.a.createElement(w.a,{md:12},l.a.createElement("div",{className:"overflowtable"},P&&l.a.createElement(Rt.a,{className:X.table},l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null)))),l.a.createElement(Bt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))))),!L&&!P&&l.a.createElement("img",{src:nt.a}),!P&&L&&l.a.createElement(Rt.a,{className:X.table},l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,{className:"txtleft"},"Name"),l.a.createElement(Te.a,{className:"txtleft"},"Contact"),l.a.createElement(Te.a,{className:"txtleft"},"City"),l.a.createElement(Te.a,null),l.a.createElement(Te.a,null))),l.a.createElement(Bt.a,null,d.map((function(e){return l.a.createElement(Be.a,{hover:!0},l.a.createElement(Te.a,{align:"left",className:X.active},e.clientName),l.a.createElement(Te.a,{align:"left",className:X.active},e.clientContact),l.a.createElement(Te.a,{align:"left",className:X.active},Re()(new Date(e.order_date)).format("DD/MM/YYYY")),l.a.createElement(Te.a,{align:"left",component:"th",scope:"row"},l.a.createElement(ne,{className:X.tooltip,TransitionComponent:Lt.a,title:"Edit Product"},l.a.createElement(Ke.a,{color:"primary",onClick:function(){return function(e,t){try{var a=h.firestore().collection("order-list");(a=a.where("clientName","==",e)).get().then((function(e){e.forEach((function(e){console.log("USER DOC ID ::  ",e.id),ce(e.id),ue(t),ae(!0)}))}))}catch(n){errorLogs("err",n)}}(e.clientName,e)},variant:"contained",size:"sm"}))))}))),l.a.createElement(He.a,null,l.a.createElement(Be.a,null,l.a.createElement(Ft.a,{rowsPerPageOptions:[10],count:d.length,rowsPerPage:20,page:S,ActionsComponent:function(e){var t=K(),a=Object(Dt.a)(),n=function(e){R(!1),z(!0)};return l.a.createElement("div",{className:t.pagination},l.a.createElement(C.a,{onClick:function(){y(""),G(Y-1),n()},disabled:0===Y,"aria-label":r("user-list_previouspage")},"rtl"===a.direction?l.a.createElement(Ve.a,null):l.a.createElement(_e.a,null)),l.a.createElement(C.a,{onClick:function(){y(""),G(Y+1),n()},disabled:q,"aria-label":r("user-list_nextpage")},"rtl"===a.direction?l.a.createElement(_e.a,null):l.a.createElement(Ve.a,null)))},style:{overflow:"visible"}}))))))))),te&&!oe?l.a.createElement(Wa,null):"",oe&&te?l.a.createElement(Wa,{currentUserId:oe,orderDetails:me}):"",l.a.createElement(ft,{confirmDialog:ge,setConfirmDialog:fe}))}),Ga=a(158),_a=a(215),Ja=a(213),Va=a(212),Ha=a(206),qa=a.n(Ha),Ka={width:"100px",height:"100px",objectFit:"contain"},Za=Object(ye.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(Te.a),Xa=Object(ye.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Be.a),$a=Object(j.a)({table:{}}),en=(Object(ye.a)({root:{"& .MuiOutlinedInput-input":{padding:"10px 14px"}}})(J.a),h.firestore(),[]),tn="";function an(e){var t=e.selectedDocId,a=e.orderDetailsData,r=$a(),o=Object(n.useState)({}),c=Object(O.a)(o,2),i=c[0],s=c[1],m=Object(n.useState)([]),u=Object(O.a)(m,2),d=u[0],p=u[1],g=Object(n.useState)(0),f=Object(O.a)(g,2),E=f[0],b=f[1],h=Object(n.useState)(0),v=Object(O.a)(h,2),A=v[0],j=v[1],y=Object(n.useState)(0),x=Object(O.a)(y,2),w=x[0],N=x[1],C=Object(n.useState)(0),S=Object(O.a)(C,2),D=S[0],I=S[1],P=Object(n.useState)([]),R=Object(O.a)(P,2),T=(R[0],R[1]);Object(n.useEffect)((function(){console.log("selectedDocId :: ",t),console.log("orderDetailsData :: ",a),console.log("===>> :: ",parseFloat(a.totalBillAmmount)),s(a),N(a.depositAmmount),en=[],a.productList.map((function(e,t){en.push({productName:e.productName.productName,productPrice:e.totalRent,productQty:e.productQty,unitPrice:e.unitPrice,fromDate:e.fromDate,toDate:e.toDate,totalDays:e.totalDays})})),p(en);var e=a.paymentDetails.sort((function(e,t){return t.paidDate-e.paidDate}));T(e),b(parseFloat(a.totalBillAmmount).toFixed(2));for(var n=0,l=0;l<a.paymentDetails.length;l++)n+=parseFloat(a.paymentDetails[l].paidAmmount);var r=parseFloat(a.totalBillAmmount)-n;j(r.toFixed(2)),console.log("TOTAL  :: ",parseFloat(a.totalBillAmmount)),console.log("TOTAL REST :: ",parseFloat(r)),console.log("TOTAL DEPOSIT :: ",parseFloat(a.depositAmmount));var o=parseFloat(a.totalBillAmmount)-parseFloat(r);console.log("tmpCal :: ",o);var c=o+parseFloat(a.depositAmmount);if(console.log("tmpCalA :: ",c),c<parseFloat(a.totalBillAmmount)){var i=parseFloat(a.totalBillAmmount)-c;console.log("SEE 1 :: ",i),I(i),tn="BAKI"}if(c>parseFloat(a.totalBillAmmount)){var m=c-parseFloat(a.totalBillAmmount);console.log("SEE 2 :: ",m),I(m),tn="JAMA"}if(c===parseFloat(a.totalBillAmmount)){var u=c-parseFloat(a.totalBillAmmount);console.log("SEE EQUAL :: ",u),I(u),tn="JAMA"}}),[]);return l.a.createElement(xe.a,{maxWidth:"lg"},l.a.createElement(_.a,{container:!0,sm:12,md:12,direction:"column"},l.a.createElement(_.a,{item:!0,sm:12,md:12,lg:12,style:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},l.a.createElement(H.a,{variant:"contained",style:{marginLeft:"5px"},onClick:function(){return function(){var e=i.clientName,t=document.getElementById("RateTbl"),a={margin:.5,filename:e,pagebreak:{mode:"avoid-all"},image:{type:"jpeg",quality:.99},html2canvas:{scale:1,imageTimeout:0},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};qa()().from(t).set(a).save()}()}},"Download")),l.a.createElement(_.a,{item:!0,sm:12,md:12,style:{display:"block",margin:"40px"}},l.a.createElement(Rt.a,{id:"RateTbl",className:r.table,"aria-label":"customized table"},l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Za,{colSpan:8,style:{backgroundColor:"transparent"},align:"center"},l.a.createElement("img",{src:M.a,alt:"",style:Ka}),l.a.createElement(k.a,{variant:"h5",style:{color:"#000077",fontFamily:["Montserrat","sans-serif"].join(","),fontWeight:800}},"Nakshraj Traders"),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("p",{style:{fontSize:"16px",fontWeight:500,margin:"12px",color:"#000077"}},"GST No. :: 24AAQFN5101M1Z4"),l.a.createElement("p",{style:{fontSize:"16px",fontWeight:500,margin:"12px",color:"#000077"}},"Contact No. :: +91 97252 54747, +91 82388 88809")),l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("p",{style:{fontSize:"14px",fontWeight:600,margin:"13px",color:"#000077"}},"Address :: \u0ab6\u0a82\u0a95\u0ab0\u0aaa\u0ac1\u0ab0\u0abe, \u0a95\u0ab2\u0abf\u0a95\u0ac1\u0a82\u0aa1 - \u0a96\u0ac7\u0aa1\u0abe \u0ab0\u0acb\u0aa1, \u0aa7\u0acb\u0ab3\u0a95\u0abe, \u0a9c\u0ac0. \u0a85\u0aae\u0aa6\u0abe\u0ab5\u0abe\u0aa6. - 382225")))),l.a.createElement(Be.a,null,l.a.createElement(Za,{colSpan:8,style:{backgroundColor:"transparent"},align:"center"},l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("p",{style:{fontSize:"15px",margin:"13px",color:"#000000"}},"Invoice No. :: "+i.invoiceNo),l.a.createElement("p",{style:{fontSize:"15px",margin:"13px",color:"#000000"}},"Name :: "+i.clientName),l.a.createElement("p",{style:{fontSize:"15px",margin:"13px",color:"#000000"}},"Contact No. :: "+i.clientContact),l.a.createElement("p",{style:{fontSize:"15px",margin:"13px",color:"#000000"}},"Date :: "+new Date(i.order_date).toDateString())))),l.a.createElement(Be.a,null,l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}},"Sr No"),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}},"Item"),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}},"QTY"),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}},"Rate"),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}},"From"),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}},"To"),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}},"Day's"),l.a.createElement(Za,{align:"right",style:{backgroundColor:"#000077"}},"Total"))),l.a.createElement(Bt.a,null,d.map((function(e,t){return l.a.createElement(Xa,{key:t},l.a.createElement(Za,{component:"th",scope:"row",align:"left"},t+1),l.a.createElement(Za,{align:"left"},e.productName),l.a.createElement(Za,{align:"left"},e.productQty),l.a.createElement(Za,{align:"left"},e.unitPrice),l.a.createElement(Za,{align:"left"},Re()(new Date(e.fromDate)).format("DD/MM/YYYY")),l.a.createElement(Za,{align:"left"},Re()(new Date(e.toDate)).format("DD/MM/YYYY")),l.a.createElement(Za,{align:"left"},e.totalDays),l.a.createElement(Za,{align:"right"},e.productPrice))}))),l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}},"Total"),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}}),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}}),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}}),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}}),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}}),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}}),l.a.createElement(Za,{align:"right",style:{backgroundColor:"#000077"}},E))),l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}},"Rest"),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}}),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}}),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}}),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}}),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}}),l.a.createElement(Za,{align:"left",style:{backgroundColor:"#000077"}}),l.a.createElement(Za,{align:"right",style:{backgroundColor:"#000077"}},A))),l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Za,{colSpan:8,style:{backgroundColor:"transparent"},align:"center"},l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("p",{style:{fontSize:"18px",margin:"13px",color:"#000077"}},"Deposit :: "+w),"JAMA"===tn&&l.a.createElement("p",{style:{fontSize:"18px",margin:"13px",color:"#27a727"}},"\u0a9c\u0aae\u0abe :: "+D),"BAKI"===tn&&l.a.createElement("p",{style:{fontSize:"18px",margin:"13px",color:"#a72727"}},"\u0aac\u0abe\u0a95\u0ac0 :: "+D)))))))))}var nn=["currentUserId","viweOnly","className","redirectBack","orderDetails"];function ln(){ln=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},l="function"==typeof Symbol?Symbol:{},r=l.iterator||"@@iterator",o=l.asyncIterator||"@@asyncIterator",c=l.toStringTag||"@@toStringTag";function i(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(S){i=function(e,t,a){return e[t]=a}}function s(e,t,a,l){var r=t&&t.prototype instanceof d?t:d,o=Object.create(r.prototype),c=new w(l||[]);return n(o,"_invoke",{value:A(e,a,c)}),o}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var u={};function d(){}function p(){}function g(){}var f={};i(f,r,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(N([])));b&&b!==t&&a.call(b,r)&&(f=b);var h=g.prototype=d.prototype=Object.create(f);function O(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){var l;n(this,"_invoke",{value:function(n,r){function o(){return new t((function(l,o){!function n(l,r,o,c){var i=m(e[l],e,r);if("throw"!==i.type){var s=i.arg,u=s.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(u).then((function(e){s.value=e,o(s)}),(function(e){return n("throw",e,o,c)}))}c(i.arg)}(n,r,l,o)}))}return l=l?l.then(o,o):o()}})}function A(e,t,a){var n="suspendedStart";return function(l,r){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===l)throw r;return C()}for(a.method=l,a.arg=r;;){var o=a.delegate;if(o){var c=j(o,a);if(c){if(c===u)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var i=m(e,t,a);if("normal"===i.type){if(n=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(n="completed",a.method="throw",a.arg=i.arg)}}}function j(e,t){var a=t.method,n=e.iterator[a];if(void 0===n)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),u;var l=m(n,e.iterator,t.arg);if("throw"===l.type)return t.method="throw",t.arg=l.arg,t.delegate=null,u;var r=l.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function N(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,l=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=g,n(h,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:p,configurable:!0}),p.displayName=i(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,i(e,c,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},O(v.prototype),i(v.prototype,o,(function(){return this})),e.AsyncIterator=v,e.async=function(t,a,n,l,r){void 0===r&&(r=Promise);var o=new v(s(t,a,n,l),r);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(h),i(h,c,"Generator"),i(h,r,(function(){return this})),i(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var l=this.tryEntries.length-1;l>=0;--l){var r=this.tryEntries[l],o=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var c=a.call(r,"catchLoc"),i=a.call(r,"finallyLoc");if(c&&i){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var l=this.tryEntries[n];if(l.tryLoc<=this.prev&&a.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var r=l;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),x(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var l=n.arg;x(a)}return l}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:N(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var rn=Object(ye.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(Te.a),on=Object(ye.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Be.a),cn=Object(j.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%"},formControl:{width:"100%",variant:"outlined",marginTop:"5px",marginBottom:"5px"},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},tab:{flexGrow:1},avatarimage:{display:"flex",justifyContent:"center",margin:"20px",padding:"10px"},large:{width:e.spacing(7),height:e.spacing(7)},green:{color:"#fff",backgroundColor:Et.a[500],margin:"10px",width:e.spacing(7),height:e.spacing(7)},textarea:{resize:"both"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),height:"90vh",overflowY:"auto",width:"90%"}}})),sn=[],mn=0,un=0,dn=0,pn="",gn=0,fn=function(e){var t=e.currentUserId,a=e.viweOnly,r=e.className,o=(e.redirectBack,e.orderDetails),c=Object(v.a)(e,nn),i=(Object(f.a)().t,cn()),s=Object(n.useState)({paidAmmount:0,paid_date:"",restAmmount:0}),m=Object(O.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(!1),g=Object(O.a)(p,2),E=g[0],b=g[1],j=Object(n.useState)({isOpen:!1,title:"",subTitle:""}),y=Object(O.a)(j,2),x=y[0],N=y[1],C=Object(n.useState)([]),S=Object(O.a)(C,2),D=S[0],I=S[1],P=Object(n.useState)({isOpen:!1,title:"",subTitle:""}),R=Object(O.a)(P,2),T=R[0],B=R[1],L=Object(n.useState)(!0),F=Object(O.a)(L,2),z=F[0],M=F[1],Q=Object(n.useState)({}),Y=Object(O.a)(Q,2),G=Y[0],V=Y[1],q=Object(n.useState)({}),Z=Object(O.a)(q,2),X=Z[0],$=Z[1],ee=Object(n.useState)([]),te=Object(O.a)(ee,2),ne=te[0],le=te[1],re=Object(n.useState)(0),oe=Object(O.a)(re,2),ce=oe[0],ie=oe[1],se=Object(n.useState)(0),me=Object(O.a)(se,2),ue=me[0],de=me[1],pe=Object(n.useState)(0),ge=Object(O.a)(pe,2),fe=ge[0],Ee=ge[1],be=l.a.useState(!1),he=Object(O.a)(be,2),Oe=he[0],ve=he[1];Object(n.useEffect)((function(){console.log("orderDetailsData :: ",o),V(o),Ee(o.depositAmmount),ie(o.orderTotalAmmount.toFixed(2)),sn=[],o.productList.map((function(e,t){sn.push({productName:e.productName.productName,productPrice:e.totalRent,productQty:e.productQty,unitPrice:e.unitPrice,fromDate:e.fromDate,toDate:e.toDate,totalDays:e.totalDays})})),le(sn),t&&Ae()}),[]);var Ae=function(){var e=Object(Ga.a)(ln().mark((function e(){var a,n,l,r,c,i,s,m,p;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=h.firestore(),n=a.collection("invoice-list").doc(t),e.next=5,n.get();case 5:if((l=e.sent).exists){for(console.log("HERE :: ",l.data()),r=l.data(),dn=r.invoiceNo,c=[],c=r.paymentDetails,i=c.sort((function(e,t){return t.paidDate-e.paidDate})),I(i),gn=0,s=0;s<r.paymentDetails.length;s++)gn+=parseFloat(r.paymentDetails[s].paidAmmount);m=o.orderTotalAmmount-gn,de(m.toFixed(2)),p=gn+parseFloat(r.depositAmmount),0,p>parseFloat(o.orderTotalAmmount)?p-o.orderTotalAmmount.toFixed(2):o.orderTotalAmmount.toFixed(2)-p,d(Object(W.a)(Object(W.a)({},u),{},{restAmmount:m}))}else je();e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error checking document:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),je=function(){h.firestore().collection("order-count").get().then((function(e){dn=0,e.forEach((function(e){var t=e.data();dn=parseInt(t.invoiceNo)+1,console.log("COUNR :: ",dn)}));var t=o.orderTotalAmmount-0;de(t.toFixed(2)),d(Object(W.a)(Object(W.a)({},u),{},{restAmmount:o.orderTotalAmmount}))}))};function ye(e){M(!1)}var we=l.a.useState({open:!1}),Ne=Object(O.a)(we,2),Ce=Ne[0],Se=Ne[1],De=Ce.open;var ke=function(e){var t={userId:G.userId,userEmail:G.userEmail,clientName:G.clientName,clientContact:G.clientContact,order_date:new Date(G.order_date).getTime(),productList:G.productList,totalBillAmmount:ce,restBillAmmount:u.restAmmount,paymentDetails:e,invoiceNo:dn.toString(),depositAmmount:G.depositAmmount};Pe(t)},Pe=function(){var e=Object(Ga.a)(ln().mark((function e(a){var n,l,r;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.firestore(),l=n.collection("invoice-list").doc(t),e.next=4,l.get();case 4:e.sent.exists?Te(a):(console.log("NEW USER"),pn="II7rySKg8MJRPpZCsrm9",r={invoiceNo:dn.toString()},n.collection("order-count").doc(pn).update(r).then((function(){Te(a)})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(e){h.firestore().collection("invoice-list").doc(t).set(e).then((function(){$(e),d(Object(W.a)(Object(W.a)({},u),{},{paidAmmount:0,paid_date:"",restAmmount:0,restDeposite:0})),D=[],b(!1),ve(!0)}))},Le=function(e){"paidAmmount"===e.target.name?((un=parseFloat(e.target.value))<=ue?mn=ue-un:un&&(un=0,mn=0),d(Object(W.a)(Object(W.a)({},u),{},{paidAmmount:un,restAmmount:mn}))):d(Object(W.a)(Object(W.a)({},u),{},Object(U.a)({},e.target.name,e.target.value)))},Fe=cn();return l.a.createElement("div",null,z&&l.a.createElement(Ie,{className:i.root,title:"Add New Order"},l.a.createElement(xe.a,{maxWidth:!1},l.a.createElement("form",Object.assign({autoComplete:"off",noValidate:!0,className:Object(A.a)(i.root,r)},c),l.a.createElement(w.a,{display:"flex",style:{alignItems:"center"}},l.a.createElement(ht.a,{color:"primary",variant:"contained",onClick:function(){return ye()},style:{margin:"0px 16px",cursor:"pointer"}}),l.a.createElement(w.a,{flexGrow:1},l.a.createElement(k.a,{variant:"h4",className:"txtleft"},"Generate Invoice Form")),!a&&(E?l.a.createElement(pt.a,{color:"secondary",style:{margin:"5px"},size:20}):""),!a&&l.a.createElement(H.a,{color:"primary",variant:"contained",disabled:E,onClick:function(){!function(){if(b(!0),u.paidAmmount)if(""===u.paid_date)b(!1),B({isOpen:!0,title:"Please Select Paid Date from the DropDown."});else{var e=new Date(u.paid_date).getTime();D.push({paidAmmount:u.paidAmmount,restAmmount:u.restAmmount,paidDate:e});ke(D)}else b(!1),ke(D)}()}},l.a.createElement(K.a,{className:"btnRightDetails"}),t?"Generate":"Add")),l.a.createElement("hr",null),l.a.createElement("div",{className:"overflowform"},l.a.createElement(kt.a,{style:{minHeight:"500px",marginBottom:"20px"}},l.a.createElement(yt.a,null,l.a.createElement(_.a,{container:!0,sm:12,md:12,direction:"column"},l.a.createElement(_.a,{item:!0,sm:12,md:12,style:{display:"block",margin:"40px"}},l.a.createElement(Rt.a,{className:i.table,"aria-label":"customized table"},l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(rn,{colSpan:8,style:{backgroundColor:"transparent"},align:"center"},l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("p",{style:{fontSize:"20px",margin:"15px",color:"#000000"}},"Customer Name :: "+G.clientName),l.a.createElement("p",{style:{fontSize:"20px",margin:"15px",color:"#000000"}},"Contact No. :: "+G.clientContact),l.a.createElement("p",{style:{fontSize:"20px",margin:"15px",color:"#000000"}},"Order On :: "+new Date(G.order_date).toDateString())))),l.a.createElement(Be.a,null,l.a.createElement(rn,{align:"left"},"Sr No"),l.a.createElement(rn,{align:"left"},"Item"),l.a.createElement(rn,{align:"left"},"QTY"),l.a.createElement(rn,{align:"left"},"Rate"),l.a.createElement(rn,{align:"left"},"From"),l.a.createElement(rn,{align:"left"},"To"),l.a.createElement(rn,{align:"left"},"Day's"),l.a.createElement(rn,{align:"right"},"Total"))),l.a.createElement(Bt.a,null,ne.map((function(e,t){return l.a.createElement(on,{key:t},l.a.createElement(rn,{component:"th",scope:"row",align:"left"},t+1),l.a.createElement(rn,{align:"left"},e.productName),l.a.createElement(rn,{align:"left"},e.productQty),l.a.createElement(rn,{align:"left"},e.unitPrice),l.a.createElement(rn,{align:"left"},Re()(new Date(e.fromDate)).format("DD/MM/YYYY")),l.a.createElement(rn,{align:"left"},Re()(new Date(e.toDate)).format("DD/MM/YYYY")),l.a.createElement(rn,{align:"left"},e.totalDays),l.a.createElement(rn,{align:"right"},e.productPrice))}))),l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(rn,{align:"left"},"Total Ammount"),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"right"},ce)),l.a.createElement(Be.a,null,l.a.createElement(rn,{align:"left"},"Rest Ammount"),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"right"},ue)),l.a.createElement(Be.a,null,l.a.createElement(rn,{align:"left"},"Deposit"),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"left"}),l.a.createElement(rn,{align:"right"},fe)))))),l.a.createElement(_.a,{container:!0,spacing:3},l.a.createElement(_.a,{item:!0,md:3,xs:12},l.a.createElement(k.a,{variant:"h6",style:{display:"flex",alignItems:"center",justifyContent:"center"}},"Paid Ammount :: ")),l.a.createElement(_.a,{item:!0,md:3,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"Ammount",name:"paidAmmount",onChange:Le,required:!0,value:u.paidAmmount,variant:"outlined",type:"number"})),l.a.createElement(_.a,{item:!0,md:3,xs:12},l.a.createElement(J.a,{id:"Date",label:"Date on.",type:"date",value:u.paid_date,defaultValue:u.paid_date,name:"paid_date",onChange:Le,InputLabelProps:{shrink:!0},variant:"outlined",style:{width:"100%",marginLeft:"0",marginRight:"0"}})),l.a.createElement(_.a,{item:!0,md:3,xs:12},l.a.createElement(J.a,{fullWidth:!0,label:"Rest Ammount",name:"restAmmount",required:!0,value:u.restAmmount,disabled:!0,variant:"outlined",type:"number"}))),l.a.createElement("div",{style:{display:"block",marginTop:"20px"}},l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("p",{style:{fontSize:"20px",margin:"15px",color:"#000000"}},"-:: Past Payment Details ::- ")),l.a.createElement(_.a,{container:!0,sm:12,md:12,direction:"column"},l.a.createElement(_.a,{item:!0,sm:12,md:12,style:{display:"block",marginTop:"20px"}},l.a.createElement(Rt.a,{className:i.table,"aria-label":"customized table"},l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(rn,{align:"left"},"Sr No"),l.a.createElement(rn,{align:"left"},"Paid Ammount"),l.a.createElement(rn,{align:"left"},"Date"),l.a.createElement(rn,{align:"left"},"Rest Ammount"))),l.a.createElement(Bt.a,null,D.map((function(e,t){return l.a.createElement(on,{key:t},l.a.createElement(rn,{component:"th",scope:"row",align:"left"},t+1),l.a.createElement(rn,{align:"left"},e.paidAmmount),l.a.createElement(rn,{align:"left"},Re()(new Date(e.paidDate)).format("DD/MM/YYYY")),l.a.createElement(rn,{align:"left"},e.restAmmount))}))))))))))),l.a.createElement(ae,{alertDialog:T,setAlertDialog:function(){B(Object(W.a)(Object(W.a)({},T),{},{isOpen:!1,title:"",subTitle:""}))}}),l.a.createElement(ft,{confirmDialog:x,setConfirmDialog:N}),l.a.createElement(Vt.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:De,TransitionComponent:function(e){return l.a.createElement(Jt.a,Object.assign({},e,{direction:"up"}))},autoHideDuration:6e3,onClose:function(){Se(Object(W.a)(Object(W.a)({},Ce),{},{open:!1}))}},l.a.createElement(Ht.a,{severity:"error"},"Please fill all required field."))),l.a.createElement(_a.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:Fe.modal,open:Oe,onClose:function(){ve(!1),M(!1)},closeAfterTransition:!0,BackdropComponent:Ja.a,BackdropProps:{timeout:500}},l.a.createElement(Va.a,{in:Oe},l.a.createElement("div",{className:Fe.paper},l.a.createElement(an,{selectedDocId:t,orderDetailsData:X}))))),!z&&l.a.createElement(bn,null))},En=["className","viweOnly","sideOptionSelected"],bn=(Object(j.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",fontFamily:"Montserrat"},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)},exporesultroot:{},avatar:{marginRight:e.spacing(2),borderRadius:"10px"},pagination:{flexShrink:0},active:{color:"#00ca73 !important"},inactive:{color:"#dc3545 !important"},table:{minWidth:300},text:{fontFamily:"Montserrat !important"}}})),function(e){var t=e.className,a=(e.viweOnly,e.sideOptionSelected,Object(v.a)(e,En)),r=Object(f.a)().t,o=Object(n.useState)({clientName:"",clientContact:0}),c=Object(O.a)(o,2),i=(c[0],c[1],Object(n.useState)([])),s=Object(O.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)([]),p=Object(O.a)(d,2),g=p[0],E=p[1],b=Object(n.useState)(""),y=Object(O.a)(b,2),x=y[0],N=y[1],S=Object(n.useState)(0),D=Object(O.a)(S,2),I=D[0],P=(D[1],Object(n.useState)(!0)),R=Object(O.a)(P,2),T=R[0],B=R[1],L=Object(n.useState)(!1),z=Object(O.a)(L,2),M=z[0],U=z[1],W=Object(n.useState)(2),Q=Object(O.a)(W,2),Y=(Q[0],Q[1],Object(n.useState)(0)),G=Object(O.a)(Y,2),_=G[0],V=G[1],q=Object(n.useState)(),K=Object(O.a)(q,2),Z=K[0],X=(K[1],Object(n.useState)("")),$=Object(O.a)(X,2),ee=$[0],te=$[1],ae=Object(n.useState)(""),ne=Object(O.a)(ae,2),le=ne[0],re=ne[1];var oe=Object(j.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),height:"90vh",overflowY:"auto",width:"90%"}}}));Object(n.useEffect)((function(){B(!1),U(!0),ce()}),[]);var ce=function(){h.firestore().collection("order-list").get().then((function(e){var t=[];e.forEach((function(e){var a=e.data();t.push(a)}));var a=t.sort((function(e,t){return t.order_date-e.order_date}));console.log("DOC Data again :: ",t),u(a),E(a),B(!1),a.length<=0&&U(!0)}))},ie=oe(),se=Object(n.useState)(!1),me=Object(O.a)(se,2),ue=me[0],de=me[1],pe=Object(ye.a)((function(e){return{tooltip:{boxShadow:e.shadows[1],fontSize:13}}}))(F.a),ge=Object(n.useState)({isOpen:!1,title:"",subTitle:""}),fe=Object(O.a)(ge,2),Ee=fe[0],be=fe[1];oe();return l.a.createElement(Ie,{className:ie.root,title:"Invoice List"},!ue&&l.a.createElement(xe.a,{maxWidth:!1},l.a.createElement("div",Object.assign({className:Object(A.a)(ie.root,t)},a),l.a.createElement(w.a,{display:"flex",className:"sideBtn"},l.a.createElement(w.a,{flexGrow:1},l.a.createElement(k.a,{variant:"h4",className:"txtleft"},"Invoice List"))),l.a.createElement("hr",null),l.a.createElement(w.a,{mt:3},l.a.createElement(kt.a,null,l.a.createElement(yt.a,null,l.a.createElement(w.a,{maxWidth:"100%"},l.a.createElement(J.a,{fullWidth:!0,InputProps:{startAdornment:l.a.createElement(It.a,{position:"start"},l.a.createElement(Pt.a,{fontSize:"small",color:"primary"},l.a.createElement(zt.a,null)))},placeholder:"Search for invoice",value:x,onChange:function(e){N(e.target.value);var t,a,n=(t=m,a=e.target.value,t.filter((function(e){return e.clientName.toLowerCase().includes(a.toLowerCase())||e.clientContact.toLowerCase().includes(a.toLowerCase())})));n.length>0?(U(!0),E(n)):(U(!1),E(n))},variant:"outlined"})))))),l.a.createElement(w.a,{mt:3,mb:3},l.a.createElement(kt.a,{className:ie.exporesultroot},l.a.createElement(w.a,{md:12},l.a.createElement("div",{className:"overflowtable"},T&&l.a.createElement(Rt.a,{className:ie.table},l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null)))),l.a.createElement(Bt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))),l.a.createElement(Be.a,null,l.a.createElement(Te.a,null,l.a.createElement(tt.a,null))))),!M&&!T&&l.a.createElement("img",{src:nt.a}),!T&&M&&l.a.createElement(Rt.a,{className:ie.table},l.a.createElement(Tt.a,null,l.a.createElement(Be.a,null,l.a.createElement(Te.a,{className:"txtleft"},"Name"),l.a.createElement(Te.a,{className:"txtleft"},"Contact"),l.a.createElement(Te.a,{className:"txtleft"},"Date"),l.a.createElement(Te.a,null),l.a.createElement(Te.a,null))),l.a.createElement(Bt.a,null,g.map((function(e){return l.a.createElement(Be.a,{hover:!0},l.a.createElement(Te.a,{align:"left",className:ie.active},e.clientName),l.a.createElement(Te.a,{align:"left",className:ie.active},e.clientContact),l.a.createElement(Te.a,{align:"left",className:ie.active},Re()(new Date(e.order_date)).format("DD/MM/YYYY")),l.a.createElement(Te.a,{"data-exclude":"true"},l.a.createElement(pe,{TransitionComponent:Lt.a,title:"Generate Invoice"},l.a.createElement(H.a,{variant:"contained",className:"btnInvoice",onClick:function(){return function(e,t){try{var a=h.firestore().collection("order-list");(a=a.where("clientName","==",e)).get().then((function(e){e.forEach((function(e){te(e.id),re(t),de(!0)}))}))}catch(n){errorLogs("err",n)}}(e.clientName,e)}},"Invoice"))))}))),l.a.createElement(He.a,null,l.a.createElement(Be.a,null,l.a.createElement(Ft.a,{rowsPerPageOptions:[10],count:g.length,rowsPerPage:20,page:I,ActionsComponent:function(e){var t=oe(),a=Object(Dt.a)(),n=function(e){B(!1),U(!0)};return l.a.createElement("div",{className:t.pagination},l.a.createElement(C.a,{onClick:function(){N(""),V(_-1),n()},disabled:0===_,"aria-label":r("user-list_previouspage")},"rtl"===a.direction?l.a.createElement(Ve.a,null):l.a.createElement(_e.a,null)),l.a.createElement(C.a,{onClick:function(){N(""),V(_+1),n()},disabled:Z,"aria-label":r("user-list_nextpage")},"rtl"===a.direction?l.a.createElement(_e.a,null):l.a.createElement(Ve.a,null)))},style:{overflow:"visible"}}))))))))),ue&&!ee?l.a.createElement(fn,null):"",ee&&ue?l.a.createElement(fn,{currentUserId:ee,orderDetails:le}):"",l.a.createElement(ft,{confirmDialog:Ee,setConfirmDialog:be}))}),hn=(a(288),a(159)),On=a.n(hn),vn=(a(289),a(290),a(207)),An=a.n(vn),jn=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,yn=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).setAlertDialog=function(){n.setState({alertDialog:{isOpen:!1,title:"",subTitle:""}})},n.handleKeyUp=function(e){13===e.keyCode&&("userEmail"===e.target.name?""===n.state.userEmail?n.setState({alertDialog:{isOpen:!0,title:"Please Enter Valid Email-id.",subTitle:""}}):jn.test(n.state.userEmail)?document.getElementById("password").focus():n.setState({alertDialog:{isOpen:!0,title:"Please Enter Valid Email-id.",subTitle:""}}):"password"===e.target.name?""===n.state.password?n.setState({alertDialog:{isOpen:!0,title:"Please Enter Valid Password.",subTitle:""}}):document.getElementById("btnLogin").click():"userForgotEmail"===e.target.name&&(""===n.state.userForgotEmail?n.setState({alertDialog:{isOpen:!0,title:"Please Enter Valid Email-id.",subTitle:""}}):jn.test(n.state.userForgotEmail)?document.getElementById("btnForgot").click():n.setState({alertDialog:{isOpen:!0,title:"Please Enter Valid Email-id.",subTitle:""}})))},n.switchToForgot=function(){document.getElementById("loginbox").classList.toggle("d-none"),document.getElementById("forgotbox").classList.toggle("d-none")},n.switchToLogin=function(){document.getElementById("forgotbox").classList.toggle("d-none"),document.getElementById("loginbox").classList.toggle("d-none")},n.handleInputChange=function(e){n.setState(Object(U.a)({},e.target.name,e.target.value))},n.onUserLogin=function(e){e.preventDefault();var t=n.state,a=t.userEmail,l=t.password;n.setState({spin:!0});var r=a.toLowerCase();if(""===r)n.setState({spin:!1,alertDialog:{isOpen:!0,title:"Please Enter Valid Email-id.",subTitle:""}});else if(""===l)n.setState({spin:!1,alertDialog:{isOpen:!0,title:"Please Enter Valid Password.",subTitle:""}});else if(jn.test(r)){var o=h.firestore().collection("users-list");(o=o.where("email","==",r)).get().then((function(e){0!==e.size?e.forEach((function(e){console.log("USER DOC ID ::  ",e.data()),e.data().loginFlag?h.auth().signInWithEmailAndPassword(r,l).then((function(e){var t=e.user.uid.toString();localStorage.setItem("userId",t),localStorage.setItem("email",r),console.log("Sucessfull Login :: ",t),n.setState({spin:!1}),window.location.href="/"})).catch((function(e){n.setState({spin:!1});var t=e.message;alert(t)})):n.setState({spin:!1,alertDialog:{isOpen:!0,title:"Cordinate To Admin! For The Inactivatation.",subTitle:""}})})):n.setState({spin:!1,alertDialog:{isOpen:!0,title:"User Not Found ! Please Cordinate With Support Team !",subTitle:""}})}))}else n.setState({spin:!1,alertDialog:{isOpen:!0,title:"Please Enter Valid Email-id.",subTitle:""}})},n.onUserForgot=function(e){e.preventDefault(),n.setState({spin:!0});var t=n.state.userForgotEmail.toLowerCase();""===t?n.setState({spin:!1,alertDialog:{isOpen:!0,title:"Please Enter Valid Email-id.",subTitle:""}}):jn.test(t)?h.auth().sendPasswordResetEmail(t).then((function(){n.setState({spin:!1,alertDialog:{isOpen:!0,title:"Please check your email and reset password there.",subTitle:""}}),document.getElementById("forgotbox").classList.toggle("d-none"),document.getElementById("loginbox").classList.toggle("d-none")})).catch((function(e){n.setState({spin:!1,alertDialog:{isOpen:!0,title:"User Not Found ! Please Enter Proper Email-id.",subTitle:""}})})):n.setState({spin:!1,alertDialog:{isOpen:!0,title:"Please Enter Valid Email-id.",subTitle:""}})},n.state={userEmail:"",password:"",spin:!1,userForgotEmail:"",alertDialog:{title:"",subTitle:"",isOpen:!1}},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.nameInput.focus()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"mainbg"},l.a.createElement("div",{className:"container vh-100"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"d-flex align-items-center justify-content-center flex-column"},l.a.createElement("img",{src:M.a,alt:"",className:"logoimg"}),l.a.createElement("div",{className:"login-box-wrapper",id:"loginbox"},l.a.createElement("div",{className:"loginbox"},l.a.createElement("h3",{className:"heading"},"LOGIN"),l.a.createElement("label",{htmlFor:"email",className:"label-class"},l.a.createElement("img",{src:On.a,alt:""}),"User Email"),l.a.createElement("input",{ref:function(t){e.nameInput=t},id:"userEmail",name:"userEmail",type:"email",value:this.state.userEmail,onChange:this.handleInputChange,onKeyUp:this.handleKeyUp,className:"input-class"}),l.a.createElement("label",{htmlFor:"password",className:"label-class"},l.a.createElement("img",{src:An.a,alt:""}),"Password"),l.a.createElement("input",{id:"password",name:"password",type:"password",value:this.state.password,onChange:this.handleInputChange,onKeyUp:this.handleKeyUp,className:"input-class",autoComplete:"off"}),l.a.createElement("div",{className:"d-flex align-items-center"},l.a.createElement("input",{type:"checkbox",id:"rememberPass",name:"rememberPass",value:"True"}),l.a.createElement("label",{for:"rememberPass",className:"checkboxlabel"},"Remember Me")),this.state.spin&&l.a.createElement(pt.a,{color:"secondary",style:{margin:"5px"},size:20}),!this.state.spin&&l.a.createElement("button",{id:"btnLogin",className:"actionbutton",disabled:this.state.spin,onClick:function(t){return e.onUserLogin(t)}},"LOGIN"),l.a.createElement("a",{className:"forgetPass",onClick:this.switchToForgot},"Forgot your password?"))),l.a.createElement("div",{className:"forgot-box-wrapper d-none",id:"forgotbox"},l.a.createElement("div",{className:"forgotbox"},l.a.createElement("div",{className:"loginbox"},l.a.createElement("h3",{className:"heading"},"FORGOT PASSWORD"),l.a.createElement("label",{htmlFor:"email",className:"label-class"},l.a.createElement("img",{src:On.a,alt:""}),"Email"),l.a.createElement("input",{id:"userForgotEmail",name:"userForgotEmail",type:"email",value:this.state.userForgotEmail,onChange:this.handleInputChange,onKeyUp:this.handleKeyUp,className:"input-class"}),l.a.createElement("div",{className:"centerContent"},l.a.createElement("button",{id:"btnForgot",className:"actionbutton",onClick:function(t){return e.onUserForgot(t)}},"FORGOT"),l.a.createElement("button",{id:"btnBack",className:"actionbackbutton",onClick:this.switchToLogin},"BACK"))))))))),l.a.createElement(ae,{alertDialog:this.state.alertDialog,setAlertDialog:this.setAlertDialog}))}}]),a}(n.Component),xn=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).setAlertDialog=function(){n.setState({alertDialog:{isOpen:!1,title:"",subTitle:""}})},n.sideOptionSelected=function(e){n.setState({pageName:e})},n.state={isLoggedIn:!1,isMobileNavOpen:!1,pageName:"Dashboard",statusRole:"",subscriptionModule:[],authStateSpin:!0,user:{loggedIn:!1},alertDialog:{title:"",subTitle:"",isOpen:!1},userrole:"USER"},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("userRole");this.setState({userRole:t}),h.auth().onAuthStateChanged((function(t){t?(console.log("LOGIN"),e.setState({isLoggedIn:!0})):(console.log("LOOUT"),e.setState({isLoggedIn:!1}))}))}},{key:"render",value:function(){var e=this;this.state.pageName;return l.a.createElement("div",null,!this.state.isLoggedIn&&l.a.createElement(yn,null),this.state.isLoggedIn&&l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",{style:{backgroundColor:"",display:"flex",height:"100%",overflow:"hidden",width:"100%"}},l.a.createElement(ce,{onMobileNavOpen:function(){return e.setState({isMobileNavOpen:!0})},sideOptionSelected:function(t){e.sideOptionSelected(t)}}),l.a.createElement(Ae,{sideOptionSelected:function(t){return e.sideOptionSelected(t)},onMobileClose:function(){return e.setState({isMobileNavOpen:!1})},openMobile:this.state.isMobileNavOpen}),l.a.createElement("div",{className:"margintopleft"},l.a.createElement("div",null,"Dashboard"===this.state.pageName&&l.a.createElement(Ye,null),"User List"===this.state.pageName&&l.a.createElement(Wt,null),"Order"===this.state.pageName&&l.a.createElement(Ya,null),"invoice"===this.state.pageName&&l.a.createElement(bn,null),"Product List"===this.state.pageName&&l.a.createElement(ba,null),"analytics"===this.state.pageName&&l.a.createElement(Sa,null))))),l.a.createElement(ae,{alertDialog:this.state.alertDialog,setAlertDialog:this.setAlertDialog})))}}]),a}(l.a.Component);xn.contextType=je;var wn=Object(f.b)()(xn),Nn=Object(o.d)((function(e){return l.a.createElement(i.a,null,l.a.createElement(s.a,{key:e.location.key,timeout:{enter:600,exit:600},classNames:"fade",unmountOnExit:!0},l.a.createElement(o.c,{location:e.location},l.a.createElement(o.a,{exact:!0,path:"/",component:wn}),l.a.createElement(o.a,{exact:!0,path:"/thanks",component:g}))))}));a(294),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Cn=Object(c.a)(),Sn=function(){return l.a.createElement(o.b,{history:Cn},l.a.createElement(Nn,null))};Object(r.render)(l.a.createElement(Sn,null),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e,t,a){e.exports=a.p+"static/media/NoData.2bc5f0c9.jpg"},66:function(e,t,a){},92:function(e,t,a){e.exports=a.p+"static/media/NT.058f89b0.png"}},[[227,1,2]]]);
//# sourceMappingURL=main.af890149.chunk.js.map